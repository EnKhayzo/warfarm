"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{6195:function(e,n,t){function r(e,n){if(Array.isArray(n)){for(var t=0;t<n.length;t++)if(0==e.localeCompare(n[t].case)){n[t].func();break}}else for(let[t,r]of Object.entries(n))0==t.localeCompare(e)&&r()}function o(e){let n=JSON.parse(localStorage.getItem(e));return"userData"===e&&null==n?(console.warn("userData was null on disk! returning {}",e,n),{}):n}function i(e,n){localStorage.setItem(e,JSON.stringify(n))}function a(e){var n,t,r;i("userData",e),en.set(null!==(n=e.componentsObtained)&&void 0!==n?n:{}),ee.set(null!==(t=e.trackedItems)&&void 0!==t?t:{}),et.set(null!==(r=e.missionPriorityPreferences)&&void 0!==r?r:{})}function c(){i("userData",{}),en.set({}),ee.set({}),et.set({})}function l(){let e=o("userData");null!=e.componentsObtained&&delete e.componentsObtained,en.set({}),i("userData",e)}function u(e,n,t){let r=o("userData");null==r&&(r={}),"componentsObtained"in r||(r.componentsObtained={}),e in r.componentsObtained||(r.componentsObtained[e]={}),r.componentsObtained[e][n]=t,en.set(r.componentsObtained),i("userData",r)}function s(e){let n=Number(d(e,"obtained"));++n>Number(el(e).required)&&(n=0),u(e,"obtained",n)}function m(e){let n=Number(d(e,"obtained"));--n<0&&(n=Number(el(e).required)),u(e,"obtained",n)}function d(e,n){let t=o("userData");return null!=t&&"componentsObtained"in t&&e in t.componentsObtained?t.componentsObtained[e][n]:null}function f(){var e;return null!==(e=o("userData").componentsObtained)&&void 0!==e?e:{}}function p(){let e=o("userData");return e.trackedItems?e.trackedItems:{}}function b(e){return p()[e]}function y(){let e=o("userData");null!=e.trackedItems&&delete e.trackedItems,ee.set({}),i("userData",e)}function v(e,n){let t=p();t[e]=n,ee.set(t),function(e){let n=o("userData");n.trackedItems=e,i("userData",n)}(t)}function O(e){if(null==e){console.warn("null passed to setUserDataMissionPriorityPreferences!");return}let n=o("userData");n.missionPriorityPreferences=e,et.set(e),i("userData",n)}function g(){let e=o("userData");null!=e.missionPriorityPreferences&&delete e.missionPriorityPreferences,et.set({}),i("userData",e)}function w(e,n){let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}async function h(){return new Promise((e,n)=>{let t=document.createElement("input");t.type="file",t.accept=".json",t.addEventListener("change",function(t){let r=t.target.files[0];if(r){let t=new FileReader;t.onload=function(t){try{let n=JSON.parse(t.target.result);e(n)}catch(e){console.error("Error parsing JSON:",e),n(e)}},t.readAsText(r)}else console.log("No file selected."),n(error)}),t.click()})}function j(e){return e.charAt(0).toUpperCase()+e.slice(1)}function N(e){return e.replace(/[^\dA-Z]+/gi,"")}function I(e){return e.split(" ")[0].trim()}function C(e){return null==e.rewards?[]:[...Object.entries(e.rewards).map(e=>{let[n,t]=e;return{rewardFullName:n,rarity:t.rarity}}).flat(1)]}function k(e){return e in M.map?M.map[e].map(e=>M.relics[e]).map(e=>[e,D[e]]).map(n=>{let[t,r]=n;return{vaulted:r.vaulted,rarity:C(r).find(n=>0==n.rewardFullName.localeCompare(e)).rarity,relic:r}}):[]}function S(e){return e in E.map?Object.entries(E.map[e]).map(e=>{let[n,t]=e;return[E.missions[Number(n)],t]}).filter(e=>{let[n,t]=e;return!0}).filter(e=>{let[n,t]=e;return P[n]||console.warn("mission id is null!",n,t),null!=P[n]}).map(n=>{let[t,r]=n;return r.map(n=>({vaulted:D[E.relics[n]].vaulted,rarity:C(D[E.relics[n]]).find(n=>0==n.rewardFullName.localeCompare(e)).rarity,mission:P[t],relic:D[E.relics[n]],rotations:P[t].rewards["".concat(E.relics[n]," Relic")]}))}).flat(1):[]}t.d(n,{$o:function(){return g},AA:function(){return v},Cu:function(){return h},H7:function(){return X},I6:function(){return es},JO:function(){return s},K$:function(){return Q},Ln:function(){return ed},MS:function(){return eu},Nl:function(){return G},Nq:function(){return B},Nx:function(){return L},PO:function(){return C},PP:function(){return J},Po:function(){return eO},Q1:function(){return O},S1:function(){return r},U6:function(){return em},U_:function(){return ec},VW:function(){return I},Vk:function(){return ee},Wk:function(){return ep},Wq:function(){return eb},X3:function(){return en},X_:function(){return ei},Z1:function(){return U},_A:function(){return a},_s:function(){return d},ae:function(){return ew},bb:function(){return w},bu:function(){return $},cE:function(){return _},d0:function(){return Z},dN:function(){return K},dX:function(){return p},eN:function(){return er},fG:function(){return el},fm:function(){return j},hr:function(){return V},i1:function(){return y},iH:function(){return ej},j2:function(){return T},k5:function(){return m},l6:function(){return b},lw:function(){return ef},nL:function(){return eN},nj:function(){return z},oB:function(){return eg},pR:function(){return eI},qU:function(){return o},t1:function(){return l},u4:function(){return f},uZ:function(){return ea},un:function(){return eC},vt:function(){return ey},wI:function(){return c},xg:function(){return et},y:function(){return W},y7:function(){return ev}});let R=null,D=null,P=null,M=null,E=null,F=null,A=null,q=null,x=null,H=!1;async function T(){var e,n;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(H)return;R=(await t.e(14).then(t.t.bind(t,8211,19))).default,D=(await t.e(894).then(t.t.bind(t,9894,19))).default,e=(await t.e(294).then(t.t.bind(t,5294,19))).default,n=e=>{let[n,t]=e;return!0},P=Object.fromEntries(Object.entries(e).filter(n)),A=(await t.e(803).then(t.t.bind(t,8803,19))).default,M=await t.e(783).then(t.t.bind(t,5783,19)),E=await t.e(982).then(t.t.bind(t,2982,19)),F=await t.e(546).then(t.t.bind(t,5546,19));let o=[];q=Object.fromEntries((o=[...o=[...o=[...o=[...o,...Object.entries(await R).map(e=>{let[n,t]=e;return{category:"items",route:"/prime/items/".concat(N(n)),routeId:N(n),id:n}}).flat(1)],...Object.entries(await A).map(e=>{let[n,t]=e;return{category:"components",route:"/prime/components/".concat(N(n)),routeId:N(n),id:n}}).flat(1)],...Object.entries(await D).map(e=>{let[n,t]=e;return{category:"relics",route:"/prime/relics/".concat(N(n)),routeId:N(n),id:n}}).flat(1)],...Object.entries(await P).map(e=>{let[n,t]=e;return{category:"missions",route:"/prime/missions/".concat(N(n)),routeId:N(n),id:n}}).flat(1)]).map(e=>[e.routeId,e])),x=Object.fromEntries(o.map(e=>[e.id,e])),r&&(ee.set(p()),en.set(f()),et.set(B()),er.set([])),H=!0}function J(e){var n,t,r;ee.set(null!==(n=e.trackedItems)&&void 0!==n?n:{}),en.set(null!==(t=e.componentsObtained)&&void 0!==t?t:{}),et.set(null!==(r=e.missionPriorityPreferences)&&void 0!==r?r:B())}function L(){return R}function W(){return A}function _(){return D}function U(){return P}function X(e){let n=null;return r(e.category,{Items:()=>{n="components"},Components:()=>{n="relics"},Relics:()=>{n="components"},Missions:()=>{n="relics"}}),n}function Z(e){let n=null;return r(e.category,{Items:()=>{n=["Components","Relics",e.vaulted?null:"Missions"].filter(e=>null!=e)},Components:()=>{n=["Relics",e.vaulted?null:"Missions"].filter(e=>null!=e)},Relics:()=>{n=["Components",e.vaulted?null:"Missions"].filter(e=>null!=e)},Missions:()=>{n=["Relics"]}}),n}function B(){var e;let n=null!==(e=o("userData").missionPriorityPreferences)&&void 0!==e?e:{};return null!=n&&Object.keys(n).length>0?n:{Disruption:1,Capture:2,Exterminate:3,Survival:4,Defense:5,Spy:6,Interception:7}}function G(){return{common:1,uncommon:2,rare:3}}function V(){return{Lith:1,Meso:2,Neo:3,Axi:4,Requiem:5}}function $(){return{Warframe:1,"Primary Weapon":2,"Secondary Weapon":3,"Melee Weapon":4,"Arch Gun":5,Companion:6}}function K(e,n,t){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null;return r(e,{Items:()=>{let a=t.item;r(n,{components:()=>{var r,o;let c=t.component;i={icon:es(c),vaulted:!!a&&a.vaulted,rarity:(()=>{let e={common:0,uncommon:1,rare:2};return k(c.id).map(e=>[e.relic.name,e]).filter(e=>{let[n,t]=e;return!!a&&a.vaulted||!t.vaulted}).map(e=>{let[n,t]=e;return t.rarity}).toSorted((n,t)=>e[n]-e[t])[0]})(),labelHeading:"".concat(c.name),labelFooter:null,label:"".concat(null!==(o=null!==(r=c.obtained)&&void 0!==r?r:d(c.id,"obtained"))&&void 0!==o?o:"0","/").concat(c.required),onClick:()=>s(c.id),type:a?a.type:"",rawObj:c,id:c.id,route:ed(c.id),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a?a.id:"","-").concat(c.id,")")}},relics:()=>{let r=t.component,[c,l]=t.relicEntry;i={icon:es(l.relic),vaulted:l.vaulted,rarity:l.rarity,componentName:r.name,componentFullName:r.fullName,labelHeading:"".concat(r.name),labelFooter:null,label:"".concat(c),onClick:()=>o.push(ed(l.relic.id)),rawObj:l,id:l.relic.id,route:ed(l.relic.id),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a?a.id:"","-").concat(r.id,"-").concat(c,")")}},missions:()=>{var r;let c=t.component,[l,u]=t.missionEntry;i={icon:es(u.mission),vaulted:u.vaulted,rarity:u.rarity,labelHeading:"".concat(c.name),labelFooter:"".concat(null!==(r=u.relic.name)&&void 0!==r?r:"?"," (").concat(u.rotations.toSorted((e,n)=>Number(e.perc.replace("%",""))-Number(n.perc.replace("%",""))).map(e=>{var n,t;return"".concat(null!==(n=e.rotation)&&void 0!==n?n:"?"," - ").concat(null!==(t=e.perc)&&void 0!==t?t:"?")}).join(", "),")"),label:"".concat(l," (").concat(u.mission.type,")"),onClick:()=>o.push(ed(u.mission.id)),rawObj:u,id:u.mission.id,route:ed(u.mission.id),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a.id,"-").concat(c.id,"-").concat(l,")")}}})},Components:()=>{let a=t.component;r(n,{relics:()=>{let[r,c]=t.relicEntry;i={icon:es(c.relic),vaulted:c.vaulted,rarity:c.rarity,componentName:a.componenName,componentFullName:a.fullName,labelHeading:"".concat(r),labelFooter:null,label:null,onClick:()=>o.push(ed(c.relic.id)),rawObj:c,id:c.relic.id,route:ed(c.relic.id),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a.id,"-").concat(r,")")}},missions:()=>{var r;let[c,l]=t.missionEntry;i={icon:es(l.mission),vaulted:l.vaulted,rarity:l.rarity,labelHeading:"".concat(l.mission.type),labelFooter:"".concat(null!==(r=l.relic.name)&&void 0!==r?r:"?"," (").concat(l.rotations.toSorted((e,n)=>Number(e.perc.replace("%",""))-Number(n.perc.replace("%",""))).map(e=>{var n,t;return"".concat(null!==(n=e.rotation)&&void 0!==n?n:"?"," - ").concat(null!==(t=e.perc)&&void 0!==t?t:"?")}).join(", "),")"),label:"".concat(c),onClick:()=>o.push(ed(l.mission.id)),rawObj:l,id:l.mission.id,route:ed(l.mission.id),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a.id,"-").concat(c,")")}}})},Relics:()=>{let a=t.relic;r(n,{components:()=>{var r,o;let{tier:c,component:l}=t.rewardEntry;i={icon:es(l),vaulted:a.vaulted,rarity:c,labelHeading:"".concat(l.fullName),labelFooter:null,label:"".concat(null!==(o=null!==(r=l.obtained)&&void 0!==r?r:d(l.id,"obtained"))&&void 0!==o?o:"0","/").concat(l.required),onClick:()=>s(l.id),type:a.type,rawObj:l,id:l.id,route:ed(l.id),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a.id,"-").concat(c,"-").concat(l.id,")")}},missions:()=>{let r=t.mission;i={icon:es(r),labelHeading:"".concat(r.type),labelFooter:"(".concat(Object.values(r.rewards["".concat(a.name," Relic")]).toSorted((e,n)=>Number(e.perc.replace("%",""))-Number(n.perc.replace("%",""))).map(e=>{var n,t;return"".concat(null!==(n=e.rotation)&&void 0!==n?n:"?"," - ").concat(null!==(t=e.perc)&&void 0!==t?t:"?")}).join(", "),")"),label:"".concat(r.planet,", ").concat(r.name),onClick:()=>o.push(ed(r.id)),rotations:r.rewards,rawObj:r,id:r.id,route:ed(r.id),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a.id,"-").concat(r.id,")")}}})},Missions:()=>{let a=t.mission;r(n,{relics:()=>{let[r,c]=t.relicEntry,l=r.replace("Relic","").replace("(Radiant)","").trim();i={icon:es(D[l]),vaulted:D[l].vaulted,rarity:null,labelHeading:"".concat(l),label:null,labelFooter:"(".concat(Object.values(c).toSorted((e,n)=>Number(e.perc.replace("%",""))-Number(n.perc.replace("%",""))).map(e=>{var n,t;return"".concat(null!==(n=e.rotation)&&void 0!==n?n:"?"," - ").concat(null!==(t=e.perc)&&void 0!==t?t:"?")}).join(", "),")"),onClick:()=>o.push(ed(l)),rawObj:c,id:l,route:ed(l),category:e,tab:n,searchObjId:"".concat(e,"-").concat(n,"-(").concat(a.id,"-").concat(l,")")}}})}}),i}function Q(e,n,t,r,o){return Math.max(...n.rewards["".concat(r.id," Relic")].map(e=>Number(e.perc.replace("%",""))))-Math.max(...e.rewards["".concat(t.id," Relic")].map(e=>Number(e.perc.replace("%",""))))||(o[e.type]||-1/0)-(o[n.type]||-1/0)}function z(e,n,t,o,i,a){let c=null,l=G(),u=V(),s=a&&a.missionPriorities?a.missionPriorities:et.get()?et.get():B(),m=a&&a.router?a.router:null;return r(n,{Items:()=>{r(o,{components:()=>{c=[...i.components?Object.keys(i.components).map(e=>A[e]).map(e=>K(n,o,{item:i,component:e},m)).toSorted((e,n)=>l[e.rarity]-l[n.rarity]):[]]},relics:()=>{c=[...i.components?Object.keys(i.components).map(e=>A[e]).map(e=>k(e.id).map(e=>[e.relic.name,e]).toSorted((e,n)=>{let[t,r]=e,[o,i]=n;return(i.vaulted?-1:1)-(r.vaulted?-1:1)}).map(t=>K(n,o,{item:i,component:e,relicEntry:t},m))).flat(1).toSorted((e,n)=>e.vaulted-n.vaulted||l[e.rarity]-l[n.rarity]):[]]},missions:()=>{c=[...i.components?Object.keys(i.components).map(e=>A[e]).map(e=>S(e.id).map(e=>["".concat(e.mission.name,", ").concat(e.mission.planet),e]).toSorted((e,n)=>{let[t,r]=e,[o,i]=n;return Q(r.mission,i.mission,r.relic,i.relic,s)}).map(t=>K(n,o,{item:i,component:e,missionEntry:t},m))).flat(1):[]]}})},Components:()=>{r(o,{relics:()=>{c=[...k(i.id).map(e=>[e.relic.name,e]).map(e=>K(n,o,{component:i,relicEntry:e},m)).flat(1).toSorted((e,n)=>e.vaulted-n.vaulted||l[e.rarity]-l[n.rarity]||u[e.rawObj.relic.tier]-u[n.rawObj.relic.tier]||e.rawObj.relic.name.localeCompare(n.rawObj.relic.name))]},missions:()=>{c=[...S(i.id).map(e=>["".concat(e.mission.name,", ").concat(e.mission.planet),e]).filter(e=>{let[n,t]=e;return!n.includes("Mission Types")}).toSorted((e,n)=>{let[t,r]=e,[o,i]=n;return Q(r.mission,i.mission,r.relic,i.relic,s)}).map(e=>K(n,o,{component:i,missionEntry:e},m)).flat(1)]}})},Relics:()=>{r(o,{components:()=>{c=[...(i.rewards?Object.entries(i.rewards).toSorted((e,n)=>l[e[1].rarity]-l[n[1].rarity]).map(e=>{let[n,t]=e;return{tier:t.rarity,reward:n}}).map(e=>{let{tier:n,reward:t}=e;return{tier:n,component:A[t]}}).map(e=>K(n,o,{relic:i,rewardEntry:e},m)):[]).flat(1)]},missions:()=>{c=[...Object.values(P).filter(e=>!e.planet.includes("Mission Types")&&"rewards"in e).filter(e=>Object.keys(e.rewards).filter(e=>e.includes("Relic")).some(e=>0==e.localeCompare("".concat(i.name," Relic")))).toSorted((e,n)=>Q(e,n,i,i,s)).map(e=>K(n,o,{relic:i,mission:e},m)).flat(1)]}})},Missions:()=>{r(o,{relics:()=>{c=[...Object.entries(i.rewards).filter(e=>{let[n,t]=e;return n.includes("Relic")}).map(e=>K(n,o,{mission:i,relicEntry:e},m)).flat(1).toSorted((e,n)=>e.vaulted-n.vaulted)]}})}}),c}class Y{set(e){this.objToObserve=e,this.notifyAll()}get(){return this.objToObserve}addListener(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.listeners.push(e),n&&e(this.objToObserve)}removeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}notifyAll(){for(let e of this.listeners)e(this.objToObserve)}constructor(e=null){this.objToObserve=null,this.listeners=[],this.objToObserve=e,this.listeners=[]}}let ee=new Y,en=new Y,et=new Y,er=new Y;async function eo(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;for(;!await e();)await function(e){return new Promise(n=>setTimeout(n,e))}(n)}async function ei(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,r=await e();return await eo(async()=>(r=await e())!=n,t),r}function ea(e,n,t){return Math.min(t,Math.max(n,e))}function ec(e){return null==e?{}:JSON.parse(JSON.stringify(e))}function el(e){let n=null;if(!F[e])return console.warn("item not found in idMap!",e),null;let t=F[e];return t||console.warn("category is undefined! you're about to get an error"),r(t=j(t),{Items:()=>{n=R[e]},Components:()=>{n=A[e]},Relics:()=>{n=D[e]},Missions:()=>{n=P[e]}}),n}function eu(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n||(n=e.category),n=j(n),e.id}function es(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n||(n=e.category),0==(n=j(n)).localeCompare("Items")?"/warfarm/images/".concat(e.name,".png"):0==n.localeCompare("Components")?"/warfarm/images/".concat(e.fullName,".png"):0==n.localeCompare("Relics")?"/warfarm/images/".concat(e.tier,".png"):0==n.localeCompare("Missions")?"/warfarm/images/".concat(e.planet.includes("Event: ")?e.planet.replace("Event: ",""):e.planet,".png"):null}function em(e){return q?q[e]:null}function ed(e){return(x?x[e]:null).route}function ef(e,n){let t={};for(let r of e)t[n(r)]||(t[n(r)]=r);return Object.values(t)}function ep(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e?(console.warn("rawObj is null!",e),!1):!(e.required<=0)&&(n||(n=f()),null!=n[e.id]&&n[e.id].obtained>=e.required)}function eb(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"items"===e.category?function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e.components||Object.keys(e.components).map(e=>A[e]).every(e=>ep(e,n))}(e,n):"components"===e.category&&ep(e,n)}function ey(e,n){return C(e).findIndex(e=>0==e.rewardFullName.localeCompare(n.id))>-1}function ev(e,n){return e.reduce((e,t)=>{e.components||(e.components=[]),e.relics||(e.relics=[]);let r=el(t);if("items"===r.category){let t=z(null,"Items",null,"components",r,{router:n});e.components=ef(e.components.concat(t),e=>e.searchObjId);let o=z(null,"Items",null,"relics",r,{router:n});e.relics=ef(e.relics.concat(o),e=>e.searchObjId)}else if("components"===r.category){let t=el(r.parentItem);e.components=ef(e.components.concat(K("Items","components",{item:t,component:r},n)),e=>e.searchObjId);let o=k(r.id).map(e=>K("Items","relics",{item:t,component:r,relicEntry:[e.relic.id,e]},n));e.relics=ef(e.relics.concat(o),e=>e.searchObjId)}return e},{})}function eO(e){er.set(er.get().concat(e))}function eg(e){let n=er.get().indexOf(e);if(n<0){console.warn("no dialog found! trying to match",e);return}let t=[...er.get()];t.splice(n,1),er.set(t)}function ew(){return er.get()}let eh={};function ej(e,n){let t="".concat(n.name,"-").concat(e.id);if(null!=eh[t])return eh[t];let r=C(n).find(n=>0==n.rewardFullName.localeCompare(e.id));return null==r?(console.warn("no relation found between relic and component!",e,n),null):(eh[t]=r.rarity,r.rarity)}function eN(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n||(n=e.category),0==(n=j(n)).localeCompare("Items")?"".concat(e.name):0==n.localeCompare("Components")?"".concat(e.fullName):0==n.localeCompare("Relics")?"".concat(e.name):0==n.localeCompare("Missions")?"".concat(e.name,", ").concat(e.planet):null}function eI(e){return"".concat(e," | Warfarm")}function eC(e,n){return null==n?e:{...e,...n}}}}]);