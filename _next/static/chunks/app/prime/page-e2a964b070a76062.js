(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{4975:function(e,t,n){Promise.resolve().then(n.bind(n,6335))},6335:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var l=n(7437),s=n(2265),i=n(6463),a=n(7138);n(7449),n(6648);var r=n(5713);n(8106);var c=n(5183),o=n(8231),d=n(4899);n(4400);var x=n(5342),u=n(4553),f=n(1524),h=n(4751);n(6342);var m=n(7957),p=n(1815);n(193);var v=n(5758),j=n(5721);function g(){let[e,t]=(0,s.useState)(r.kMB()),n=e=>{t(e)};return(0,s.useEffect)(()=>(r.Nf$.addListener(n,!0),()=>{r.Nf$.removeListener(n)}),[]),[e,t]}var y=n(9343),b=e=>{let{top:t,buttons:n,headerContent:i,className:a,style:c,onConfirm:o}=e,[d,x]=(0,s.useState)(!1);(0,s.useRef)(null);let u=()=>{x(!d)};return(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{padding:"0px",margin:"0px"},children:d?(0,l.jsxs)("div",{className:"sized-content h-flex confirm-button-area",children:[(0,l.jsx)("button",{onClick:e=>{null!=o&&o(e),u()},className:"confirm-button".concat(a?" ".concat(a):""),children:(0,l.jsx)("img",{className:"icon-default-filter confirm-icon",src:"".concat(r.wHH().basePath,"/icons/success.svg")})}),(0,l.jsx)("button",{onClick:()=>{u()},className:"confirm-button".concat(a?" ".concat(a):""),children:(0,l.jsx)("img",{className:"icon-default-filter confirm-icon",src:"".concat(r.wHH().basePath,"/icons/failure.svg")})})]}):(0,l.jsx)("button",{onClick:u,className:"sized-content h-flex flex-center".concat(a?" ".concat(a):""),style:{borderRadius:"5px",padding:"5px"},children:i})})};function w(e){let{elemList:t,sharedList:n,currentList:c,obtainedComponents:o,sharedListLabel:x,emptyListLabel:u,onClicks:f,itemFilterFunc:h,innerListGetFunc:m}=e;(0,i.useRouter)(),(0,i.useSearchParams)();let[v,j]=(0,s.useState)(!1),g=(0,s.useRef)(null),w=e=>{g.current&&!g.current.contains(e.target)&&j(!1)};return(0,s.useEffect)(()=>(v?document.addEventListener("mousedown",w):document.removeEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}),[v]),(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:[n?(0,l.jsx)("span",{style:{fontStyle:"italic"},children:x}):null,(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{position:"relative",gap:"10px"},children:[(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{position:"relative",gap:"5px",backgroundColor:"var(--color-tertiary)",borderRadius:"10px",padding:"10px",cursor:n?"default":"pointer",opacity:n?"50%":"100%"},onClick:e=>{n||j(!v)},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{marginBottom:"2px"},children:n?n.id:null!=c?c:"?"}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("img",{className:"sized-content h-flex icon-default-filter flex-center",src:"".concat(r.wHH().basePath,"/icons/arrow.svg"),style:{width:"10px",transform:"rotate(90deg)"}})}),v?(0,l.jsx)("div",{ref:g,className:"sized-content selector-option-wrapper v-flex flex-center",style:{overflow:"hidden",position:"absolute",top:"50px",zIndex:"1000",width:"75vw",cursor:"default"},children:(0,l.jsx)("div",{className:"sized-content selector-option-container v-flex flex-center",style:{gap:"10px"},children:Object.entries(t).map((e,t)=>{let[n,s]=e;return(0,l.jsx)("div",{className:"sized-content h-flex selector-option track-list-selector-option flex-center",style:{minWidth:"fit-content",textAlign:"center",width:"auto",padding:"10px",backgroundColor:"var(--color-secondary)",cursor:"pointer"},onClick:()=>{f&&f.handleConfirm&&f.handleConfirm([n,s])},children:(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontWeight:"bold",fontSize:"x-large"},children:n}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px",flexWrap:"wrap",pointerEvents:"none"},children:null==m(s)||r.j1q(r.sY0(m(s),e=>h(e[1])))?(0,l.jsxs)("div",{children:["(",u,")"]}):Object.entries(m(s)).filter(e=>{let[t,n]=e;return h(n)}).map(e=>{let[n,s]=e;return(0,l.jsxs)(a.default,{href:r.LnC(n),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(r.WqU(r.fGE(n),o)?" object-farmed-main-page":""),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,l.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:r.I6l(r.fGE(n))}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:n}),(()=>{let e=r.fGE(n);return null==e?null:"missions"!==e.category?(0,l.jsx)(d.Z,{object:e}):null})(),(0,l.jsx)(p.Z,{itemId:n,positionAbsolute:!0})]},"".concat(n,"-").concat(t))})})]})},"".concat(t,"-").concat(n))})})}):null]}),(0,l.jsx)("div",{className:"sized-content h-flex",style:{position:"absolute",top:"0px",right:"-140px",height:"100%",width:"120px",gap:"10px"},children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(r.wHH().basePath,"/icons/save.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.saveShared?f.saveShared:()=>{}}),(0,l.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(r.wHH().basePath,"/icons/failure.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.cancelSaveShared?f.cancelSaveShared:()=>{}})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(r.wHH().basePath,"/icons/edit.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.editList?f.editList:()=>{}}),(0,l.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(r.wHH().basePath,"/icons/add.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.addList?f.addList:()=>{}}),(0,l.jsx)(b,{headerContent:(0,l.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(r.wHH().basePath,"/icons/trash-bin.svg"),iconClassName:"icon-default-filter track-list-icon"}),onConfirm:f&&f.deleteList?f.deleteList:()=>{}}),(0,l.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(r.wHH().basePath,"/icons/share.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.shareList?f.shareList:()=>{}})]})})]})]})}function N(e){let{}=e,t=(0,i.useRouter)(),n=(0,i.useSearchParams)(),[a,c]=g(),[d,x]=function(){let[e,t]=(0,s.useState)(r.NKx()),n=e=>{t(e)};return(0,s.useEffect)(()=>(r.rMq.addListener(n,!0),()=>{r.rMq.removeListener(n)}),[]),[e,t]}(),[u,h]=(0,o.Z)(),[m,p]=(0,f.Z)(),[v,j]=(0,s.useState)(!1),y=(0,s.useRef)(null),b=n.get("sharedTrackList")?r.nN$(n.get("sharedTrackList")):null,N=e=>{y.current&&!y.current.contains(e.target)&&j(!1)};return(0,s.useEffect)(()=>(v?document.addEventListener("mousedown",N):document.removeEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}),[v]),(0,l.jsx)(w,{elemList:a,sharedList:b,currentList:d,obtainedComponents:m,sharedListLabel:"Shared track list",emptyListLabel:"Track List is empty",itemFilterFunc:e=>!0==e.tracked,innerListGetFunc:e=>e.trackedItems,onClicks:{handleConfirm:e=>{let[t,n]=e;r.BHh(t)},saveShared:()=>{r.PoQ({title:"Choose the name that this Track List will have:",value:b.id,type:"textString",ok:(e,n)=>{b.id=n;let l=()=>{r.XcN(b),r.BHh(n),t.push(window.location.href.split("?")[0])};if(null!=a[n]){console.warn("track list already exists!"),r.PoQ({title:"A Track List with the name '".concat(n,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{l()}});return}l()}})},cancelSaveShared:()=>{t.push(window.location.href.split("?")[0])},editList:()=>{r.PoQ({title:"Set new name for ".concat(d,":"),type:"textString",value:d,ok:(e,t)=>{let n=()=>{r.X5A(d,t),r.BHh(t)};if(null!=a[t]){console.warn("track list already exists!"),r.PoQ({title:"A Track List with the name '".concat(t,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{n()}});return}n()}})},addList:()=>{let e=r.rLC();r.XcN({id:e,trackedItems:{}}),r.BHh(e)},deleteList:()=>{r.B2m(r.NKx())},shareList:()=>{let e=r.U_9(a[d]);e.trackedItems=r.sY0(e.trackedItems,e=>{let[t,n]=e;return!0==n.tracked});let t="".concat(window.location.href.split("?")[0],"?sharedTrackList=").concat(r.Eox(e));navigator.clipboard.writeText(t),r.wJT({label:"url copied to clipboard!",type:"success"})}}})}n(7940);var k=n(4530),z=n(7427),S=n(5969),L=n(6487),E=e=>{let{title:t,children:n,className:i,style:a}=e,[c,o]=(0,s.useState)(!1),d=(0,s.useRef)(null),[x,u]=(0,s.useState)("0px");return(0,s.useEffect)(()=>{u(c?"".concat(d.current.scrollHeight,"px"):"0px")},[c]),(0,l.jsxs)("div",{className:"sized-content v-flex collapsible-container flex-center".concat(i?" ".concat(i):""),style:r.unj({},a),children:[(0,l.jsxs)("button",{className:"collapsible ".concat(c?"active":""),onClick:()=>{o(!c)},children:[t,(0,l.jsx)("span",{className:"collapsible-arrow ".concat(c?"open":"")})]}),(0,l.jsx)("div",{ref:d,style:{maxHeight:"".concat(x)},className:"collapsible-content",children:(0,l.jsx)("div",{className:"sized-content v-flex collapsible-content-inner",children:n})})]})};let C=e=>{let{hideFarmed:t,trackedItems:n}=e,s=(0,i.useRouter)(),[c,o]=(0,f.Z)(),d=r.RHD(n,s),x=d.components.filter(e=>!t||!r.Wk9(e.rawObj,c)),u=d.relics,m=r.Nly(),v=r.hrm();return(0,l.jsx)("div",{className:"sized-content component-page-relative-info-container h-flex flex-center",style:{maxWidth:"75vw",flexWrap:"wrap"},children:Object.entries(x.reduce((e,t)=>(null==t.rawObj.parentItem?e[t.rawObj.id]={item:{category:"Components",fullName:t.rawObj.fullName,icon:t.icon,route:t.route,id:t.rawObj.id,type:"?",componentFullName:t.rawObj.fullName,name:t.rawObj.fullName},components:[t]}:(e[t.rawObj.parentItem]||(e[t.rawObj.parentItem]={item:r.fGE(t.rawObj.parentItem),components:[]}),e[t.rawObj.parentItem].components.push(t)),e),{})).map((e,t)=>{let[n,s]=e;return(0,l.jsxs)("div",{className:"sized-content v-flex flex-center item-check-parent",style:{borderRadius:"10px",backgroundColor:r.WqU(r.fGE(n))?"var(--color-secondary-farmed)":"var(--color-secondary)",padding:"10px",gap:"5px",alignSelf:"stretch",justifyContent:"flex-start"},children:[(0,l.jsxs)(a.default,{href:r.LnC(s.item.id),className:"sized-content v-flex flex-center",style:{cursor:"pointer"},children:[(0,l.jsx)("img",{style:{height:"50px"},src:r.I6l(s.item)}),(0,l.jsx)("div",{children:s.item.name})]}),(0,l.jsx)(L.Z,{rawObj:r.fGE(n)}),(0,l.jsx)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:s.components.map((e,t)=>(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{padding:"10px",borderRadius:"10px",gap:"10px",backgroundColor:r.WqU(r.fGE(e.id))?"var(--color-quaternary-farmed)":"var(--color-quaternary)",alignSelf:"stretch",justifyContent:"flex-start"},children:[(0,l.jsx)("div",{className:"sized-content v-flex flex-center",children:(0,l.jsx)(h.Z,{width:"70px",iconHeight:"45px",component:e})}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{maxWidth:"500px",gap:"5px",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"flex-start"},children:u.filter(t=>0==t.componentFullName.localeCompare(e.rawObj.fullName)).toSorted((e,t)=>e.vaulted-t.vaulted||m[e.rarity]-m[t.rarity]||v[e.rawObj.relic.tier]-v[t.rawObj.relic.tier]||e.rawObj.relic.name.localeCompare(t.rawObj.relic.name)).map(e=>{var n;return(0,l.jsxs)(a.default,{href:e.route,className:"sized-content item-page-component-container tracker-item-parent h-flex flex-center".concat(null!==(n=" ".concat(e.rarity))&&void 0!==n?n:""),style:{width:"110px",gap:"5px",opacity:e.vaulted?"50%":"100%"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("img",{style:{height:"25px"},src:e.icon})}),(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"1px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontSize:"small",minWidth:"fit-content",paddingRight:"5px"},children:e.label}),(0,l.jsx)(j.Z,{positionAbsolute:!1,itemId:e.id})]})]},"".concat(t,"-").concat(e.rawObj.relic.name))})})]},"".concat(t,"-").concat(e.name)))}),(0,l.jsx)(p.Z,{itemId:n,positionAbsolute:!0})]},"".concat(t,"-").concat(n))})})};function O(e){let{trackedItems:t}=e,[n,i]=(0,s.useState)("relic"),[a,c]=(0,s.useState)(!0),[o,d]=(0,v.Z)();return(0,l.jsxs)("div",{className:"sized-component v-flex flex-center",style:{gap:"10px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex",style:{fontSize:"large",fontWeight:"bold"},children:"Farming Sheet"}),(0,l.jsx)(u.Z,{hasMinWidth:!0,defaultTab:"Components",tabs:{Components:(0,l.jsx)(C,{hideFarmed:r.ZAN("hideFarmed",!1),trackedItems:t}),Relics:(0,l.jsx)(k.Z,{hideFarmed:r.ZAN("hideFarmed",!1),objects:t}),...t.map(e=>{var t;return null!==(t=r.fGE(e).vaulted)&&void 0!==t&&t}).some(e=>!1==e)?{Missions:(0,l.jsx)(z.Z,{groupBy:n,hideFarmed:r.ZAN("hideFarmed",!1),objectIds:t})}:null},headerControls:{Missions:(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:[(0,l.jsx)(S.Z,{setHideFarmed:c}),(0,l.jsx)(m.Z,{options:{"Group By Relic":{value:"relic",defaultOption:!0},"Group By Component":{value:"component"}},onConfirm:e=>{let[t,n]=e;return i(n.value)}})]}),Components:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)(S.Z,{setHideFarmed:c})}),Relics:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)(S.Z,{setHideFarmed:c})})}})]})}function H(){let[e,t]=(0,s.useState)("relicType"),[n,i]=(0,s.useState)(1),[a,c]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=async function(){let l=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{let s=await fetch("https://enkhayzomachines.net:8443/activemissions"),i=await s.json();c(i),l&&setTimeout(n,1e3),null==i&&setTimeout(()=>e(!1),3e5);let a=Date.now()+3e5,o=i.reduce((e,t)=>{let n=r.jyf(t.Expiry);return n<e&&(e=n),e},a);o<a&&(a=o);let d=a-Date.now();d<=0&&(d=2e4),setTimeout(t,d)}catch(e){console.error("Error fetching data:",e)}},t=()=>e(!1),n=()=>{i(Math.random()),setTimeout(n,1e3)};return e(),()=>{clearTimeout(n),clearTimeout(t)}},[]);let o=null==a?null:Object.fromEntries(a.map(e=>{let t=r.oO_(e.Node),n=r.fGE(t.id);return[t.nodeId,n]})),[d,u]=(0,x.Z)(),f=r.hrm(),h=e=>"VoidT1"===e?"Lith":"VoidT2"===e?"Meso":"VoidT3"===e?"Neo":"VoidT4"===e?"Axi":"VoidT5"===e?"Requiem":null;return null==a?null:(0,l.jsxs)(E,{className:"sized-content v-flex flex-center void-fissures-collapsible",title:(0,l.jsx)("span",{style:{fontWeight:"bold",fontSize:"large"},children:"Available Void Fissures"}),children:[(0,l.jsx)(m.Z,{options:{"Relic Type":{value:"relicType",defaultOption:!0},"Mission Type Preference":{value:"preference"}},onConfirm:e=>{let[n,l]=e;return t(l.value)}}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{flexWrap:"wrap",padding:"10px",gap:"10px"},children:a.toSorted((t,n)=>{var l,s,i,a;let r=o[t.Node],c=o[n.Node],x=h(t.Modifier),u=h(n.Modifier);return("preference"===e?(null!==(l=d[r.type])&&void 0!==l?l:1/0)-(null!==(s=d[c.type])&&void 0!==s?s:1/0):(null!==(i=f[x])&&void 0!==i?i:1/0)-(null!==(a=f[u])&&void 0!==a?a:1/0))||(null!=t.Hard?1:-1)-(null!=n.Hard?1:-1)}).map((e,t)=>{let n=r.oO_(e.Node),s=r.fGE(n.id),i=r.jyf(e.Expiry)-Date.now(),a=h(e.Modifier);return(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{borderRadius:"10px",padding:"10px",backgroundColor:"var(--color-tertiary)",width:"250px",textAlign:"center",justifyContent:"flex-start",alignSelf:"stretch",gap:"5px"},children:[(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"5px"},children:[null!=a?(0,l.jsx)("img",{className:"sized-content v-flex flex-center",style:{width:"100px",height:"100px",objectFit:"contain"},src:"".concat(r.wHH().basePath,"/images/").concat(a,".png")}):(0,l.jsx)("div",{className:"sized-content v-flex flex-center",style:{width:"100px",height:"100px",objectFit:"contain"},children:(0,l.jsx)("img",{className:"sized-content v-flex flex-center icon-default-filter omnia-fissure",style:{width:"60px",height:"60px",objectFit:"contain"},src:"".concat(r.wHH().basePath,"/icons/question.svg")})}),(0,l.jsx)("img",{className:"sized-content v-flex flex-center",style:{width:"50px",height:"50px",objectFit:"contain"},src:r.I6l(s)})]}),(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",children:[(0,l.jsx)("span",{className:"sized-content v-flex flex-center",style:{fontStyle:"italic"},children:null!=a?a:"Omnia"}),(0,l.jsxs)("span",{className:"sized-content v-flex flex-center",style:{fontWeight:"bold"},children:[s.type,null==e.Hard?null:(0,l.jsx)(l.Fragment,{children:" (Steel Path)"})]}),(0,l.jsx)("span",{className:"sized-content v-flex flex-center",children:n.id}),(0,l.jsxs)("span",{className:"sized-content v-flex flex-center",style:{whiteSpace:"pre"},children:["Expires in ",r.M2U(i,!0)]})]})]},"".concat(t,"-").concat(e.Node,"-").concat(s.type))})})]})}function Z(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),[n,s]=(0,o.Z)(),[x,u]=g(),h=t.get("sharedTrackList")?r.nN$(t.get("sharedTrackList")):null,m=h?h.trackedItems:n,v=Object.entries(null!=m?m:{}).filter(e=>{var t;let[n,l]=e;return null!==(t=l.tracked)&&void 0!==t&&t}).length<=0,[j,y]=(0,f.Z)();return(0,l.jsxs)("div",{className:"sized-content tracked-items v-flex flex-center",style:{gap:"50px"},children:[Object.keys(x).length<=1&&r.j1q(r.sY0(m,e=>!0==e[1].tracked))?null:(0,l.jsx)("div",{children:(0,l.jsx)(N,{})}),!v&&m?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"sized-content tracked-items h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{overflow:"auto",maxWidth:"75vw",gap:"10px",flexWrap:"wrap"},children:Object.entries(m).filter(e=>{var t;let[n,l]=e;return null!==(t=l.tracked)&&void 0!==t&&t}).sort((e,t)=>{let[n,l]=e,[s,i]=t;return r.km8(r.fGE(n))-r.km8(r.fGE(s))}).map((e,t)=>{let[n,s]=e,i=r.km8(r.fGE(n),j);return(0,l.jsxs)(a.default,{href:r.LnC(n),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(i<=0?"":i>=1?" object-farmed-main-page":" object-farmed-partial-main-page"),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,l.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:r.I6l(r.fGE(n))}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:n}),(()=>{let e=r.fGE(n);return null==e?null:"items"===e.category||"components"===e.category?(0,l.jsx)(d.Z,{object:e}):null})(),null!=h?null:(0,l.jsx)(c.Z,{itemId:n,positionAbsolute:!0}),(0,l.jsx)(p.Z,{itemId:n,positionAbsolute:!0}),(0,l.jsx)(L.Z,{rawObj:r.fGE(n)})]},"".concat(n,"-").concat(t))})})})}):null,(0,l.jsx)(H,{}),v?(0,l.jsxs)("div",{className:"sized-content v-flex",style:{gap:"10px",fontSize:"small",fontStyle:"italic",whiteSpace:"pre"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("div",{className:"sized-content tracked-items-button v-flex flex-center",style:{fontStyle:"normal",cursor:"pointer"},onClick:()=>e.push("/prime/explorer"),children:"+"})}),(0,l.jsxs)("div",{className:"sized-content v-flex",children:[(0,l.jsxs)("div",{children:["You're not tracking any items. Add some by using the Search Bar or from the ",(0,l.jsx)(a.default,{href:"/prime/explorer",style:{cursor:"pointer",color:"var(--color-link-text)"},children:"Explorer"})," page, or by selecting a Track List (if you saved any)."]}),(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",children:["Track items using the star",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(r.wHH().basePath,"/icons/star_hollow.svg")}),"button."]})]})]}):null,v?null:(0,l.jsx)(O,{trackedItems:Object.entries(m).filter(e=>{let[t,n]=e;return!0==n.tracked}).map(e=>{let[t,n]=e;return t})})]})}function W(){(0,i.useRouter)();let[e,t]=(0,o.Z)(),n=Object.entries(null!=e?e:{}).filter(e=>{var t;let[n,l]=e;return null!==(t=l.tracked)&&void 0!==t&&t}).length<=0;return(0,l.jsxs)("div",{className:"sized-remaining v-flex",style:{justifyContent:"center",gap:"0px"},children:[n?(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{padding:"10px"},children:(0,l.jsx)("img",{className:"sized-content h-flex flex-center",style:{width:"400px"},src:"".concat(r.wHH().basePath,"/icons/logo_prime.svg")})}):null,(0,l.jsxs)("div",{className:"sized-remaining v-flex flex-center",style:{gap:"20px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold"},children:"Tracked Items"}),(0,l.jsx)(Z,{})]})]})}var T=n(8553),P=n(9274);function I(){let[e,t]=(0,s.useState)(r.cGn()),n=e=>{t(e)};return(0,s.useEffect)(()=>(r.DKd.addListener(n,!0),()=>{r.DKd.removeListener(n)}),[]),[e,t]}function F(e){let{}=e,t=(0,i.useRouter)(),n=(0,i.useSearchParams)(),[a,c]=I(),[o,d]=function(){let[e,t]=(0,s.useState)(r.pLB()),n=e=>{t(e)};return(0,s.useEffect)(()=>(r.PVW.addListener(n,!0),()=>{r.PVW.removeListener(n)}),[]),[e,t]}(),[x,u]=(0,f.Z)(),[h,m]=(0,s.useState)(!1),p=(0,s.useRef)(null),v=n.get("sharedSellList")?r.nN$(n.get("sharedSellList")):null,j=e=>{p.current&&!p.current.contains(e.target)&&m(!1)};return(0,s.useEffect)(()=>(h?document.addEventListener("mousedown",j):document.removeEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}),[h]),(0,l.jsx)(w,{elemList:a,sharedList:v,currentList:o,obtainedComponents:x,sharedListLabel:"Shared sell list",emptyListLabel:"Sell List is empty",itemFilterFunc:e=>null!=e.sellValue&&e.sellValue>0,innerListGetFunc:e=>e.sellItems,onClicks:{handleConfirm:e=>{let[t,n]=e;r.lAQ(t)},saveShared:()=>{r.PoQ({title:"Choose the name that this Sell List will have:",value:v.id,type:"textString",ok:(e,n)=>{v.id=n;let l=()=>{r.EDi(v),r.lAQ(n),t.push(window.location.href.split("?")[0])};if(null!=a[n]){console.warn("sell list already exists!"),r.PoQ({title:"A Sell List with the name '".concat(n,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{l()}});return}l()}})},cancelSaveShared:()=>{t.push(window.location.href.split("?")[0])},editList:()=>{r.PoQ({title:"Set new name for ".concat(o,":"),type:"textString",value:o,ok:(e,t)=>{let n=()=>{r.Maz(o,t),r.lAQ(t)};if(null!=a[t]){console.warn("sell list already exists!"),r.PoQ({title:"A Sell List with the name '".concat(t,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{n()}});return}n()}})},addList:()=>{let e=r.$w_();r.EDi({id:e,sellItems:{}}),r.lAQ(e)},deleteList:()=>{r.RRf(r.pLB())},shareList:()=>{let e=r.U_9(a[o]);e.sellItems=r.sY0(e.sellItems,e=>{let[t,n]=e;return n.sellValue>0});let t="".concat(window.location.href.split("?")[0],"?sharedSellList=").concat(r.Eox(e));navigator.clipboard.writeText(t),r.wJT({label:"url copied to clipboard!",type:"success"})}}})}var G=n(1672),R=n(235);n(7841);var A=n(1886);function B(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),[n,s]=(0,P.Z)(),[o,x]=I(),u=t.get("sharedSellList")?r.nN$(t.get("sharedSellList")):null,h=u?u.sellItems:n,m=Object.entries(null!=h?h:{}).filter(e=>{let[t,n]=e;return r.$7W(t)>0}).length<=0,[v,j]=(0,f.Z)(),[g,y]=(0,R.Z)();return(0,l.jsxs)("div",{className:"sized-content tracked-items v-flex flex-center",style:{gap:"50px",minHeight:"620px"},children:[(0,l.jsxs)("div",{className:"sized-content h-flex",style:{fontSize:"x-large",fontWeight:"bold",whiteSpace:"pre"},children:["You have a Grand Total of ",(0,l.jsx)("img",{style:{marginTop:"2px",width:"40px",height:"40px",objectFit:"contain"},src:"".concat(r.wHH().basePath,"/images/Orokin Ducats.png")}),Object.entries(g).reduce((e,t)=>{var n;let[l,s]=t;return e+r.QEb(r.fGE(l))*(null!==(n=s.owned)&&void 0!==n?n:0)},0)," in Sellable Component Duplicates."]}),Object.keys(o).length<=1&&r.j1q(r.sY0(h,e=>null!=e[1].sellValue&&e[1].sellValue>0))?null:(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"20px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold"},children:"Sell Items"}),(0,l.jsx)(F,{})]}),!m&&h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"sized-content tracked-items h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{overflow:"auto",maxWidth:"75vw",gap:"10px",flexWrap:"wrap"},children:Object.entries(h).filter(e=>{let[t,n]=e;return r.$7W(t)>0}).filter(e=>{let[t,n]=e;return null!=r.fGE(t)}).sort((e,t)=>{let[n,l]=e,[s,i]=t;return r.km8(r.fGE(n))-r.km8(r.fGE(s))}).map((e,t)=>{let[n,s]=e,i=r.km8(r.fGE(n),v);return(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",children:[(0,l.jsxs)(a.default,{href:r.LnC(n),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(i<=0?"":i>=1?" object-farmed-main-page":" object-farmed-partial-main-page"),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,l.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:r.I6l(r.fGE(n))}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:n}),(()=>{let e=r.fGE(n);return null==e?null:"items"===e.category||"components"===e.category?(0,l.jsx)(d.Z,{object:e}):null})(),null!=u?null:(0,l.jsx)(c.Z,{itemId:n,positionAbsolute:!0}),(0,l.jsx)(p.Z,{itemId:n,positionAbsolute:!0}),(0,l.jsx)(L.Z,{rawObj:r.fGE(n)})]}),(0,l.jsx)(G.Z,{object:r.fGE(n)})]},"".concat(n,"-").concat(t))})})}),(0,l.jsxs)("div",{className:"sized-content h-flex",style:{fontSize:"x-large",fontWeight:"bold",whiteSpace:"pre"},children:["Total Profit: ",(0,l.jsx)("img",{style:{marginTop:"2px",width:"40px",height:"40px",objectFit:"contain"},src:"".concat(r.wHH().basePath,"/images/Orokin Ducats.png")}),Object.entries(h).reduce((e,t)=>{var n;let[l,s]=t;return e+r.QEb(r.fGE(l))*(null!==(n=s.sellValue)&&void 0!==n?n:0)},0)]}),(0,l.jsx)("div",{className:"sized-content h-flex",style:{gap:"20px"},children:(0,l.jsx)("button",{className:"sized-content h-flex confirm-sell-button",title:"Owned values will be deducted by the sell amout specified for each component",onClick:()=>{Object.entries(h).forEach(e=>{let[t,n]=e,l=r.$7W(t),s=r.Vp9(t);if(0==l){console.warn("sell value is 0! aborting sell");return}l<=s?(r.leN(t,0),r.Qu2(t,s-l)):console.warn("not enough extras to sell! aborting")})},children:"Confirm Sell"})})]}):null,m?(0,l.jsxs)("div",{className:"sized-content v-flex",style:{gap:"10px",fontSize:"small",fontStyle:"italic",whiteSpace:"pre"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("div",{className:"sized-content tracked-items-button v-flex flex-center",style:{fontStyle:"normal",cursor:"pointer"},onClick:()=>e.push("/prime/explorer"),children:"+"})}),(0,l.jsxs)("div",{className:"sized-content v-flex",children:[(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",children:["You're not selling any items. Add some by using the Duplicates pane below (if you've set any",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(r.wHH().basePath,"/icons/duplicates.svg")}),"duplicates), using the Search Bar or from the ",(0,l.jsx)(a.default,{href:"/prime/explorer",style:{cursor:"pointer",color:"var(--color-link-text)"},children:"Explorer"})," page, or by selecting a Sell List (if you saved any)."]}),(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",children:["Sell items using the sell",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(r.wHH().basePath,"/icons/sell_hollow.svg")}),"button and specifying a quantity (you need to have set",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(r.wHH().basePath,"/icons/duplicates.svg")}),"duplicates first in order to sell). In the Duplicates pane you can directly sell items using the corresponding buttons."]})]})]}):null]})}function D(){(0,i.useRouter)(),(0,i.useSearchParams)();let[e,t]=(0,R.Z)();return r.j1q(r.sY0(e,e=>{let[t,n]=e;return null!=n.owned&&n.owned>0}))?null:(0,l.jsxs)("div",{className:"sized-content v-flex",style:{backgroundColor:"var(--color-tertiary)",borderRadius:"10px",padding:"10px",gap:"10px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontSize:"x-large",fontWeight:"bold"},children:"Duplicates you have"}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px",flexWrap:"wrap",maxWidth:"90vw"},children:Object.entries(e).filter(e=>{let[t,n]=e;return null!=n.owned&&n.owned>0}).toSorted((e,t)=>{let[n,l]=e,[s,i]=t;return i.owned-l.owned||n.localeCompare(s)}).map((e,t)=>{let[n,s]=e,i=r.fGE(n);return(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"5px"},children:[(0,l.jsx)(h.Z,{component:r.fGE(n),isRawObj:!0,fullName:!0,showButtons:!1,showCorrespondingItem:!0,style:{minWidth:"205px"}}),(0,l.jsx)(A.Z,{component:i,showLabel:!0,alwaysShowLabel:!0})]},"".concat(t,"-").concat(n))})})]})}function M(){let[e,t]=(0,s.useState)(1),[n,i]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=async function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{let s=await fetch("https://enkhayzomachines.net:8443/voidtraders"),a=await s.json();i(a),t&&setTimeout(l,1e3),null==a&&setTimeout(()=>e(!1),3e5);let c=Date.now()+864e5,o=a.reduce((e,t)=>{let n=r.jyf(t.Expiry);return n<e&&(e=n),e},c);o<c&&(c=o);let d=c-Date.now();d<=0&&(d=2e4),setTimeout(n,d)}catch(e){console.error("Error fetching data:",e)}},n=()=>e(!1),l=()=>{t(Math.random()),setTimeout(l,1e3)};return e(),()=>{clearTimeout(l),clearTimeout(n)}},[]);let a=null,c=null,o=null;if(null!=n){let e=n.find(e=>"Baro'Ki Teel"===e.Character);if(null!=e){let t=r.jyf(e.Activation);null!=t&&(a=Date.now()-t);let n=r.jyf(e.Expiry);null!=n&&(c=n-Date.now()),console.log("baro locaion",o=r.JC1(e.Node),e.Node)}}return null==n||null==c?null:(0,l.jsx)("div",{className:"sized-remaining v-flex flex-center",style:{gap:"50px",marginBottom:"40px"},children:(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{whiteSpace:"pre",fontSize:"x-large"},children:["Baro Ki'Teer ",a<0?(0,l.jsxs)(l.Fragment,{children:["will arrive",null!=o?(0,l.jsxs)(l.Fragment,{children:[" at ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:o})]}):""]}):(0,l.jsxs)(l.Fragment,{children:["has arrived",null!=o?(0,l.jsxs)(l.Fragment,{children:[" at ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:o})]}):""," and will go away"]})," in ",(0,l.jsx)("span",{className:"sized-content h-flex flex-center",style:{fontWeight:"bold"},children:r.M2U(c)})]})})}function Q(){(0,i.useRouter)();let[e,t]=(0,P.Z)();return Object.entries(null!=e?e:{}).filter(e=>{let[t,n]=e;return r.$7W(t)>0}).length,(0,l.jsxs)("div",{className:"sized-remaining v-flex",style:{justifyContent:"center",gap:"0px"},children:[(0,l.jsx)(M,{}),(0,l.jsxs)("div",{className:"sized-remaining v-flex flex-center",style:{gap:"100px"},children:[(0,l.jsx)(B,{}),(0,l.jsx)(D,{})]})]})}function V(){(0,i.useRouter)();let[e,t]=(0,T.Z)();return(0,l.jsx)(l.Fragment,{children:null==e||"farmMode"===e?(0,l.jsx)(W,{}):(0,l.jsx)(Q,{})})}}},function(e){e.O(0,[125,4,138,648,713,976,749,971,23,744],function(){return e(e.s=4975)}),_N_E=e.O()}]);