(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{4975:function(e,t,n){Promise.resolve().then(n.bind(n,1461))},1461:function(e,t,n){"use strict";n.r(t),n.d(t,{TrackedItemsComponent:function(){return I},default:function(){return S}});var s=n(7437),l=n(2265),i=n(6463),c=n(7138),r=n(7449),a=n.n(r);n(6648);var o=n(3272);n(8106);var d=n(3595),x=n(8231),f=n(3744);n(4400),n(5342);var m=n(4553),u=n(1524),h=n(4751);n(6342);var p=n(7957),j=n(1815);n(193);var v=n(5758),g=n(5721);function b(){let[e,t]=(0,l.useState)(o.kM()),n=e=>{t(e)};return(0,l.useEffect)(()=>(o.Nf.addListener(n,!0),()=>{o.Nf.removeListener(n)}),[]),[e,t]}var y=n(9343),k=e=>{let{top:t,buttons:n,headerContent:i,className:c,style:r,onConfirm:a}=e,[d,x]=(0,l.useState)(!1);(0,l.useRef)(null);let f=()=>{x(!d)};return(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{padding:"0px",margin:"0px"},children:d?(0,s.jsxs)("div",{className:"sized-content h-flex confirm-button-area",children:[(0,s.jsx)("button",{onClick:e=>{null!=a&&a(e),f()},className:"confirm-button".concat(c?" ".concat(c):""),children:(0,s.jsx)("img",{className:"icon-default-filter confirm-icon",src:"".concat(o.wH().basePath,"/icons/success.svg")})}),(0,s.jsx)("button",{onClick:()=>{f()},className:"confirm-button".concat(c?" ".concat(c):""),children:(0,s.jsx)("img",{className:"icon-default-filter confirm-icon",src:"".concat(o.wH().basePath,"/icons/failure.svg")})})]}):(0,s.jsx)("button",{onClick:f,className:"sized-content h-flex flex-center".concat(c?" ".concat(c):""),style:{borderRadius:"5px",padding:"5px"},children:i})})};function N(e){let{}=e,t=(0,i.useRouter)(),n=(0,i.useSearchParams)(),[r,a]=b(),[d,m]=function(){let[e,t]=(0,l.useState)(o.NK()),n=e=>{t(e)};return(0,l.useEffect)(()=>(o.rM.addListener(n,!0),()=>{o.rM.removeListener(n)}),[]),[e,t]}(),[h,p]=(0,x.Z)(),[v,g]=(0,u.Z)(),[N,w]=(0,l.useState)(!1),z=(0,l.useRef)(null),C=n.get("sharedTrackList")?o.nN(n.get("sharedTrackList")):null,Z=e=>{z.current&&!z.current.contains(e.target)&&w(!1)};(0,l.useEffect)(()=>(N?document.addEventListener("mousedown",Z):document.removeEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}),[N]);let O=e=>{let[t,n]=e;o.BH(t)};return(0,s.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:[C?(0,s.jsx)("span",{style:{fontStyle:"italic"},children:"Shared track list"}):null,(0,s.jsxs)("div",{className:"sized-content h-flex flex-center",style:{position:"relative",gap:"10px"},children:[(0,s.jsxs)("div",{className:"sized-content h-flex flex-center",style:{position:"relative",gap:"5px",backgroundColor:"var(--color-tertiary)",borderRadius:"10px",padding:"10px",cursor:C?"default":"pointer",opacity:C?"50%":"100%"},onClick:e=>{C||w(!N)},children:[(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{marginBottom:"2px"},children:C?C.id:null!=d?d:"?"}),(0,s.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,s.jsx)("img",{className:"sized-content h-flex icon-default-filter flex-center",src:"".concat(o.wH().basePath,"/icons/arrow.svg"),style:{width:"10px",transform:"rotate(90deg)"}})}),N?(0,s.jsx)("div",{ref:z,className:"sized-content selector-option-wrapper v-flex flex-center",style:{overflow:"hidden",position:"absolute",top:"50px",zIndex:"1000",width:"75vw",cursor:"default"},children:(0,s.jsx)("div",{className:"sized-content selector-option-container v-flex flex-center",style:{gap:"10px"},children:Object.entries(r).map((e,t)=>{let[n,l]=e;return(0,s.jsx)("div",{className:"sized-content h-flex selector-option track-list-selector-option flex-center",style:{minWidth:"fit-content",textAlign:"center",width:"auto",padding:"10px",backgroundColor:"var(--color-secondary)",cursor:"pointer"},onClick:()=>O([n,l]),children:(0,s.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:[(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontWeight:"bold",fontSize:"x-large"},children:n}),(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px",flexWrap:"wrap",pointerEvents:"none"},children:null==l.trackedItems||o.j1(o.sY(l.trackedItems,e=>!0==e[1].tracked))?(0,s.jsx)("div",{children:"(Track List is empty)"}):Object.entries(l.trackedItems).filter(e=>{let[t,n]=e;return!0==n.tracked}).map(e=>{let[n,l]=e;return(0,s.jsxs)(c.default,{href:o.Ln(n),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(o.Wq(o.fG(n),v)?" object-farmed-main-page":""),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,s.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:o.I6(o.fG(n))}),(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:n}),(()=>{let e=o.fG(n);return"items"===e.category||"components"===e.category?(0,s.jsx)(f.Z,{object:e}):null})(),(0,s.jsx)(j.Z,{itemId:n,positionAbsolute:!0})]},"".concat(n,"-").concat(t))})})]})},"".concat(t,"-").concat(n))})})}):null]}),(0,s.jsx)("div",{className:"sized-content h-flex",style:{position:"absolute",top:"0px",right:"-140px",height:"100%",width:"120px",gap:"10px"},children:C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(o.wH().basePath,"/icons/save.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:()=>{o.Po({title:"Choose the name that this Track List will have:",value:C.id,type:"textString",ok:(e,n)=>{C.id=n;let s=()=>{o.Xc(C),o.BH(n),t.push(window.location.href.split("?")[0])};if(null!=r[n]){console.warn("track list already exists!"),o.Po({title:"A Track List with the name '".concat(n,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{s()}});return}s()}})}}),(0,s.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(o.wH().basePath,"/icons/failure.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:()=>{t.push(window.location.href.split("?")[0])}})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(o.wH().basePath,"/icons/edit.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:()=>{o.Po({title:"Set new name for ".concat(d,":"),type:"textString",value:d,ok:(e,t)=>{let n=()=>{o.X5(d,t),o.BH(t)};if(null!=r[t]){console.warn("track list already exists!"),o.Po({title:"A Track List with the name '".concat(t,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{n()}});return}n()}})}}),(0,s.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(o.wH().basePath,"/icons/add.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:()=>{let e=o.rL();o.Xc({id:e,trackedItems:{}}),o.BH(e)}}),(0,s.jsx)(k,{headerContent:(0,s.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(o.wH().basePath,"/icons/trash-bin.svg"),iconClassName:"icon-default-filter track-list-icon"}),onConfirm:()=>{o.B2(o.NK())}}),(0,s.jsx)(y.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(o.wH().basePath,"/icons/share.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:()=>{let e=o.U_(r[d]);e.trackedItems=o.sY(e.trackedItems,e=>{let[t,n]=e;return!0==n.tracked});let t="".concat(window.location.href.split("?")[0],"?sharedTrackList=").concat(o.Eo(e));navigator.clipboard.writeText(t),o.wJ({label:"url copied to clipboard!",type:"success"})}})]})})]})]})}n(7940);var w=n(4530),z=n(7427),C=n(5969);let Z=e=>{let{hideFarmed:t,trackedItems:n}=e,l=(0,i.useRouter)(),[r,a]=(0,u.Z)(),d=o.RH(n,l),x=d.components.filter(e=>!t||!o.Wk(e.rawObj,r)),f=d.relics,m=o.Nl(),p=o.hr();return(0,s.jsx)("div",{className:"sized-content component-page-relative-info-container h-flex flex-center",style:{maxWidth:"75vw",flexWrap:"wrap"},children:Object.entries(x.reduce((e,t)=>(null==t.rawObj.parentItem?e[t.rawObj.id]={item:{category:"Components",fullName:t.rawObj.fullName,icon:t.icon,route:t.route,id:t.rawObj.id,type:"?",componentFullName:t.rawObj.fullName,name:t.rawObj.fullName},components:[t]}:(e[t.rawObj.parentItem]||(e[t.rawObj.parentItem]={item:o.fG(t.rawObj.parentItem),components:[]}),e[t.rawObj.parentItem].components.push(t)),e),{})).map((e,t)=>{let[n,l]=e;return(0,s.jsxs)("div",{className:"sized-content v-flex flex-center item-check-parent",style:{borderRadius:"10px",backgroundColor:o.Wq(o.fG(n))?"var(--color-secondary-farmed)":"var(--color-secondary)",padding:"10px",gap:"5px",alignSelf:"stretch",justifyContent:"flex-start"},children:[(0,s.jsxs)(c.default,{href:o.Ln(l.item.id),className:"sized-content v-flex flex-center",style:{cursor:"pointer"},children:[(0,s.jsx)("img",{style:{height:"50px"},src:o.I6(l.item)}),(0,s.jsx)("div",{children:l.item.name})]}),(0,s.jsx)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:l.components.map((e,t)=>(0,s.jsxs)("div",{className:"sized-content h-flex flex-center",style:{padding:"10px",borderRadius:"10px",gap:"10px",backgroundColor:o.Wq(o.fG(e.id))?"var(--color-quaternary-farmed)":"var(--color-quaternary)",alignSelf:"stretch",justifyContent:"flex-start"},children:[(0,s.jsx)("div",{className:"sized-content v-flex flex-center",children:(0,s.jsx)(c.default,{href:o.Ln(e.id),children:(0,s.jsx)(h.Z,{width:"70px",iconHeight:"45px",component:e})})}),(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{maxWidth:"500px",gap:"5px",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"flex-start"},children:f.filter(t=>0==t.componentFullName.localeCompare(e.rawObj.fullName)).toSorted((e,t)=>e.vaulted-t.vaulted||m[e.rarity]-m[t.rarity]||p[e.rawObj.relic.tier]-p[t.rawObj.relic.tier]||e.rawObj.relic.name.localeCompare(t.rawObj.relic.name)).map(e=>{var n;return(0,s.jsxs)(c.default,{href:e.route,className:"sized-content item-page-component-container tracker-item-parent h-flex flex-center".concat(null!==(n=" ".concat(e.rarity))&&void 0!==n?n:""),style:{width:"110px",gap:"5px",opacity:e.vaulted?"50%":"100%"},children:[(0,s.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,s.jsx)("img",{style:{height:"25px"},src:e.icon})}),(0,s.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"1px"},children:[(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontSize:"small",minWidth:"fit-content",paddingRight:"5px"},children:e.label}),(0,s.jsx)(g.Z,{positionAbsolute:!1,itemId:e.id})]})]},"".concat(t,"-").concat(e.rawObj.relic.name))})})]},"".concat(t,"-").concat(e.name)))}),(0,s.jsx)(j.Z,{itemId:n,positionAbsolute:!0})]},"".concat(t,"-").concat(n))})})};function O(e){let{trackedItems:t}=e,[n,i]=(0,l.useState)("relic"),[c,r]=(0,l.useState)(!0),[a,d]=(0,v.Z)();return(0,s.jsxs)("div",{className:"sized-component v-flex flex-center",style:{gap:"10px"},children:[(0,s.jsx)("div",{className:"sized-content h-flex",style:{fontSize:"large",fontWeight:"bold"},children:"Farming Sheet"}),(0,s.jsx)(m.Z,{defaultTab:"Components",tabs:{Components:(0,s.jsx)(Z,{hideFarmed:o.ZA("hideFarmed",!1),trackedItems:t}),Relics:(0,s.jsx)(w.Z,{hideFarmed:o.ZA("hideFarmed",!1),objects:t}),...t.map(e=>{var t;return null!==(t=o.fG(e).vaulted)&&void 0!==t&&t}).some(e=>!1==e)?{Missions:(0,s.jsx)(z.Z,{groupBy:n,hideFarmed:o.ZA("hideFarmed",!1),objectIds:t})}:null},headerControls:{Missions:(0,s.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:[(0,s.jsx)(C.Z,{setHideFarmed:r}),(0,s.jsx)(p.Z,{options:{"Group By Relic":{value:"relic",defaultOption:!0},"Group By Component":{value:"component"}},onConfirm:e=>{let[t,n]=e;return i(n.value)}})]}),Components:(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:(0,s.jsx)(C.Z,{setHideFarmed:r})}),Relics:(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:(0,s.jsx)(C.Z,{setHideFarmed:r})})}})]})}function I(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),[n,l]=(0,x.Z)(),[r,a]=b(),m=t.get("sharedTrackList")?o.nN(t.get("sharedTrackList")):null,h=m?m.trackedItems:n,p=Object.entries(null!=h?h:{}).filter(e=>{var t;let[n,s]=e;return null!==(t=s.tracked)&&void 0!==t&&t}).length<=0,[v,g]=(0,u.Z)();return(0,s.jsxs)("div",{className:"sized-content tracked-items v-flex flex-center",style:{gap:"50px"},children:[o.j1(r)||1==Object.keys(r).length&&o.j1(o.sY(h,e=>!0==e[1].tracked))?null:(0,s.jsx)("div",{children:(0,s.jsx)(N,{})}),!p&&h?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"sized-content tracked-items h-flex flex-center",style:{gap:"10px"},children:(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{overflow:"auto",maxWidth:"75vw",gap:"10px",flexWrap:"wrap"},children:Object.entries(h).filter(e=>{var t;let[n,s]=e;return null!==(t=s.tracked)&&void 0!==t&&t}).sort((e,t)=>{let[n,s]=e,[l,i]=t;return o.km(o.fG(n))-o.km(o.fG(l))}).map((e,t)=>{let[n,l]=e;return(0,s.jsxs)(c.default,{href:o.Ln(n),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(o.Wq(o.fG(n),v)?" object-farmed-main-page":""),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,s.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:o.I6(o.fG(n))}),(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:n}),(()=>{let e=o.fG(n);return null==e?null:"items"===e.category||"components"===e.category?(0,s.jsx)(f.Z,{object:e}):null})(),null!=m?null:(0,s.jsx)(d.Z,{itemId:n,positionAbsolute:!0}),(0,s.jsx)(j.Z,{itemId:n,positionAbsolute:!0})]},"".concat(n,"-").concat(t))})})})}):null,p?(0,s.jsxs)("div",{className:"sized-content v-flex",style:{gap:"10px",fontSize:"small",fontStyle:"italic",whiteSpace:"pre"},children:[(0,s.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,s.jsx)("div",{className:"sized-content tracked-items-button v-flex flex-center",style:{fontStyle:"normal",cursor:"pointer"},onClick:()=>e.push("/prime/explorer"),children:"+"})}),(0,s.jsxs)("div",{className:"sized-content v-flex",children:[(0,s.jsxs)("div",{children:["You're not tracking any items. Add some by using the Search Bar or from the ",(0,s.jsx)(c.default,{href:"/prime/explorer",style:{cursor:"pointer",color:"var(--color-link-text)"},children:"Explorer"})," page, or by selecting a Track List (if you saved any)."]}),(0,s.jsxs)("div",{className:"sized-content h-flex flex-center",children:["Track items using the star",(0,s.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(o.wH().basePath,"/icons/star_hollow.svg")}),"button."]})]})]}):null,p?null:(0,s.jsx)(O,{trackedItems:Object.entries(h).filter(e=>{let[t,n]=e;return!0==n.tracked}).map(e=>{let[t,n]=e;return t})})]})}function S(){(0,i.useRouter)();let[e,t]=(0,x.Z)(),n=Object.entries(null!=e?e:{}).filter(e=>{var t;let[n,s]=e;return null!==(t=s.tracked)&&void 0!==t&&t}).length<=0;return(0,l.useEffect)(()=>{document.title=o.pR("Home")},[]),(0,s.jsxs)("div",{className:"sized-remaining v-flex",style:{justifyContent:"center",gap:"0px"},children:[(0,s.jsx)(a(),{children:(0,s.jsx)("title",{children:o.pR("Home")})}),n?(0,s.jsx)("div",{className:"sized-content h-flex flex-center",style:{padding:"10px"},children:(0,s.jsx)("img",{className:"sized-content h-flex flex-center",style:{width:"400px"},src:"".concat(o.wH().basePath,"/icons/logo_prime.svg")})}):null,(0,s.jsxs)("div",{className:"sized-remaining v-flex flex-center",style:{gap:"20px"},children:[(0,s.jsx)("div",{style:{fontWeight:"bold"},children:"Tracked Items"}),(0,s.jsx)(I,{})]})]})}}},function(e){e.O(0,[125,989,138,648,15,158,328,971,23,744],function(){return e(e.s=4975)}),_N_E=e.O()}]);