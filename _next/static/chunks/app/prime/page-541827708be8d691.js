(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{1658:function(e,t,n){Promise.resolve().then(n.bind(n,9066))},9066:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var l=n(7437),s=n(2265),i=n(6463),r=n(7138);n(7449),n(6648);var a=n(5713);let c="https://warfarm-api.enkhayzomachines.net";n(8106);var o=n(5255),d=n(8231),x=n(4899);n(4400);var u=n(5342),f=n(4553),m=n(1524),h=n(4751);n(6342);var p=n(7957),v=n(1815);n(193);var j=n(5758),g=n(5721);function y(){let[e,t]=(0,s.useState)(a.kMB()),n=e=>{t(e)};return(0,s.useEffect)(()=>(a.Nf$.addListener(n,!0),()=>{a.Nf$.removeListener(n)}),[]),[e,t]}var b=n(9343),w=e=>{let{top:t,buttons:n,headerContent:i,className:r,style:c,onConfirm:o}=e,[d,x]=(0,s.useState)(!1);(0,s.useRef)(null);let u=()=>{x(!d)};return(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{padding:"0px",margin:"0px"},children:d?(0,l.jsxs)("div",{className:"sized-content h-flex confirm-button-area",children:[(0,l.jsx)("button",{onClick:e=>{null!=o&&o(e),u()},className:"confirm-button".concat(r?" ".concat(r):""),children:(0,l.jsx)("img",{className:"icon-default-filter confirm-icon",src:"".concat(a.wHH().basePath,"/icons/success.svg")})}),(0,l.jsx)("button",{onClick:()=>{u()},className:"confirm-button".concat(r?" ".concat(r):""),children:(0,l.jsx)("img",{className:"icon-default-filter confirm-icon",src:"".concat(a.wHH().basePath,"/icons/failure.svg")})})]}):(0,l.jsx)("button",{onClick:u,className:"sized-content h-flex flex-center".concat(r?" ".concat(r):""),style:{borderRadius:"5px",padding:"5px"},children:i})})};function N(e){let{elemList:t,sharedList:n,currentList:c,obtainedComponents:o,sharedListLabel:d,emptyListLabel:u,onClicks:f,itemFilterFunc:m,innerListGetFunc:h}=e;(0,i.useRouter)(),(0,i.useSearchParams)();let[p,j]=(0,s.useState)(!1),g=(0,s.useRef)(null),y=e=>{g.current&&!g.current.contains(e.target)&&j(!1)};return(0,s.useEffect)(()=>(p?document.addEventListener("mousedown",y):document.removeEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}),[p]),(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:[n?(0,l.jsx)("span",{style:{fontStyle:"italic"},children:d}):null,(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{position:"relative",gap:"10px"},children:[(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{position:"relative",gap:"5px",backgroundColor:"var(--color-tertiary)",borderRadius:"10px",padding:"10px",cursor:n?"default":"pointer",opacity:n?"50%":"100%"},onClick:e=>{n||j(!p)},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{marginBottom:"2px"},children:n?n.id:null!=c?c:"?"}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("img",{className:"sized-content h-flex icon-default-filter flex-center",src:"".concat(a.wHH().basePath,"/icons/arrow.svg"),style:{width:"10px",transform:"rotate(90deg)"}})}),p?(0,l.jsx)("div",{ref:g,className:"sized-content selector-option-wrapper v-flex flex-center",style:{overflow:"hidden",position:"absolute",top:"50px",zIndex:"1000",width:"75vw",cursor:"default"},children:(0,l.jsx)("div",{className:"sized-content selector-option-container v-flex flex-center",style:{gap:"10px"},children:Object.entries(t).map((e,t)=>{let[n,s]=e;return(0,l.jsx)("div",{className:"sized-content h-flex selector-option track-list-selector-option flex-center",style:{minWidth:"fit-content",textAlign:"center",width:"auto",padding:"10px",backgroundColor:"var(--color-secondary)",cursor:"pointer"},onClick:()=>{f&&f.handleConfirm&&f.handleConfirm([n,s])},children:(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontWeight:"bold",fontSize:"x-large"},children:n}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px",flexWrap:"wrap",pointerEvents:"none"},children:null==h(s)||a.j1q(a.sY0(h(s),e=>m(e[1])))?(0,l.jsxs)("div",{children:["(",u,")"]}):Object.entries(h(s)).filter(e=>{let[t,n]=e;return m(n)}).map(e=>{let[n,s]=e;return(0,l.jsxs)(r.default,{href:a.LnC(n),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(a.WqU(a.fGE(n),o)?" object-farmed-main-page":""),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,l.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:a.I6l(a.fGE(n))}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:n}),(()=>{let e=a.fGE(n);return null==e?null:"missions"!==e.category?(0,l.jsx)(x.Z,{object:e}):null})(),(0,l.jsx)(v.Z,{itemId:n,positionAbsolute:!0})]},"".concat(n,"-").concat(t))})})]})},"".concat(t,"-").concat(n))})})}):null]}),(0,l.jsx)("div",{className:"sized-content h-flex",style:{position:"absolute",top:"0px",right:"-140px",height:"100%",width:"120px",gap:"10px"},children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(a.wHH().basePath,"/icons/save.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.saveShared?f.saveShared:()=>{}}),(0,l.jsx)(b.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(a.wHH().basePath,"/icons/failure.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.cancelSaveShared?f.cancelSaveShared:()=>{}})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(a.wHH().basePath,"/icons/edit.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.editList?f.editList:()=>{}}),(0,l.jsx)(b.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(a.wHH().basePath,"/icons/add.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.addList?f.addList:()=>{}}),(0,l.jsx)(w,{headerContent:(0,l.jsx)(b.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(a.wHH().basePath,"/icons/trash-bin.svg"),iconClassName:"icon-default-filter track-list-icon"}),onConfirm:f&&f.deleteList?f.deleteList:()=>{}}),(0,l.jsx)(b.Z,{blinkEnabled:!1,label:"",iconUrl:"".concat(a.wHH().basePath,"/icons/share.svg"),iconClassName:"icon-default-filter track-list-icon",onClick:f&&f.shareList?f.shareList:()=>{}})]})})]})]})}function k(e){let{}=e,t=(0,i.useRouter)(),n=(0,i.useSearchParams)(),[r,c]=y(),[o,x]=function(){let[e,t]=(0,s.useState)(a.NKx()),n=e=>{t(e)};return(0,s.useEffect)(()=>(a.rMq.addListener(n,!0),()=>{a.rMq.removeListener(n)}),[]),[e,t]}(),[u,f]=(0,d.Z)(),[h,p]=(0,m.Z)(),[v,j]=(0,s.useState)(!1),g=(0,s.useRef)(null),b=n.get("sharedTrackList")?a.nN$(n.get("sharedTrackList")):null,w=e=>{g.current&&!g.current.contains(e.target)&&j(!1)};return(0,s.useEffect)(()=>(v?document.addEventListener("mousedown",w):document.removeEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}),[v]),(0,l.jsx)(N,{elemList:r,sharedList:b,currentList:o,obtainedComponents:h,sharedListLabel:"Shared track list",emptyListLabel:"Track List is empty",itemFilterFunc:e=>!0==e.tracked,innerListGetFunc:e=>e.trackedItems,onClicks:{handleConfirm:e=>{let[t,n]=e;a.BHh(t)},saveShared:()=>{a.PoQ({title:"Choose the name that this Track List will have:",value:b.id,type:"textString",ok:(e,n)=>{b.id=n;let l=()=>{a.XcN(b),a.BHh(n),t.push(window.location.href.split("?")[0])};if(null!=r[n]){console.warn("track list already exists!"),a.PoQ({title:"A Track List with the name '".concat(n,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{l()}});return}l()}})},cancelSaveShared:()=>{t.push(window.location.href.split("?")[0])},editList:()=>{a.PoQ({title:"Set new name for ".concat(o,":"),type:"textString",value:o,ok:(e,t)=>{let n=()=>{a.X5A(o,t),a.BHh(t)};if(null!=r[t]){console.warn("track list already exists!"),a.PoQ({title:"A Track List with the name '".concat(t,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{n()}});return}n()}})},addList:()=>{let e=a.rLC();a.XcN({id:e,trackedItems:{}}),a.BHh(e)},deleteList:()=>{a.B2m(a.NKx())},shareList:()=>{let e=a.U_9(r[o]);e.trackedItems=a.sY0(e.trackedItems,e=>{let[t,n]=e;return!0==n.tracked});let t="".concat(window.location.href.split("?")[0],"?sharedTrackList=").concat(a.Eox(e));navigator.clipboard.writeText(t),a.wJT({label:"url copied to clipboard!",type:"success"})}}})}n(7940);var z=n(4530),S=n(7427),L=n(5969),E=n(6487),C=e=>{let{title:t,children:n,className:i,style:r}=e,[c,o]=(0,s.useState)(!1),d=(0,s.useRef)(null),[x,u]=(0,s.useState)("0px");return(0,s.useEffect)(()=>{u(c?"".concat(d.current.scrollHeight,"px"):"0px")},[c]),(0,l.jsxs)("div",{className:"sized-content v-flex collapsible-container flex-center".concat(i?" ".concat(i):""),style:a.unj({},r),children:[(0,l.jsxs)("button",{className:"collapsible ".concat(c?"active":""),onClick:()=>{o(!c)},children:[t,(0,l.jsx)("span",{className:"collapsible-arrow ".concat(c?"open":"")})]}),(0,l.jsx)("div",{ref:d,style:{maxHeight:"".concat(x)},className:"collapsible-content",children:(0,l.jsx)("div",{className:"sized-content v-flex collapsible-content-inner",children:n})})]})},W=n(5507);let O=e=>{let{hideFarmed:t,trackedItems:n}=e,s=(0,i.useRouter)(),[c,o]=(0,m.Z)(),d=a.RHD(n,s),x=d.components.filter(e=>!t||!a.Wk9(e.rawObj,c)),u=d.relics,f=a.Nly(),p=a.hrm(),j=a.S$I();return(0,l.jsx)("div",{className:"sized-content component-page-relative-info-container h-flex flex-center",style:{maxWidth:"75vw",flexWrap:"wrap"},children:Object.entries(x.reduce((e,t)=>(null==t.rawObj.parentItem?e[t.rawObj.id]={item:{category:"Components",fullName:t.rawObj.fullName,icon:t.icon,route:t.route,id:t.rawObj.id,type:"?",componentFullName:t.rawObj.fullName,name:t.rawObj.fullName},components:[t]}:(e[t.rawObj.parentItem]||(e[t.rawObj.parentItem]={item:a.fGE(t.rawObj.parentItem),components:[]}),e[t.rawObj.parentItem].components.push(t)),e),{})).map((e,t)=>{let[n,s]=e;return(0,l.jsxs)("div",{className:"sized-content v-flex flex-center item-check-parent",style:{borderRadius:"10px",backgroundColor:a.WqU(a.fGE(n))?"var(--color-secondary-farmed)":"var(--color-secondary)",padding:"10px",gap:"5px",alignSelf:"stretch",justifyContent:"flex-start"},children:[(0,l.jsxs)(r.default,{href:a.LnC(s.item.id),className:"sized-content v-flex flex-center",style:{cursor:"pointer"},children:[(0,l.jsx)("img",{style:{height:"50px"},src:a.I6l(s.item)}),(0,l.jsx)("div",{children:s.item.name})]}),(0,l.jsx)(E.Z,{rawObj:a.fGE(n)}),(0,l.jsx)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:s.components.map((e,t)=>(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{padding:"10px",borderRadius:"10px",gap:"10px",backgroundColor:a.WqU(a.fGE(e.id))?"var(--color-quaternary-farmed)":"var(--color-quaternary)",alignSelf:"stretch",justifyContent:"flex-start"},children:[(0,l.jsx)("div",{className:"sized-content v-flex flex-center",children:(0,l.jsx)(h.Z,{width:"70px",iconHeight:"45px",component:e})}),(0,l.jsx)("div",{className:"sized-content v-flex flex-center",style:{maxWidth:"500px",maxHeight:"300px",overflow:"auto",gap:"5px",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"flex-start"},children:u.filter(t=>0==t.componentFullName.localeCompare(e.rawObj.fullName)).toSorted((e,t)=>{var n,l;return e.vaulted-t.vaulted||(a.iCw(t.id)?1:-1)-(a.iCw(e.id)?1:-1)||(null!==(n=j[t.id])&&void 0!==n?n:0)-(null!==(l=j[e.id])&&void 0!==l?l:0)||f[e.rarity]-f[t.rarity]||p[e.rawObj.relic.tier]-p[t.rawObj.relic.tier]||e.rawObj.relic.name.localeCompare(t.rawObj.relic.name)}).map(e=>{var n;return(0,l.jsxs)(r.default,{href:e.route,className:"sized-content item-page-component-container tracker-item-parent h-flex flex-center".concat(null!==(n=" ".concat(e.rarity))&&void 0!==n?n:""),style:{width:"140px",gap:"5px",opacity:e.vaulted?"50%":"100%"},children:[(0,l.jsx)(W.Z,{positionAbsolute:!1,itemId:e.id,showIfHas:!1,iconStyle:{width:"10px",height:"10px"}}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("img",{style:{height:"25px"},src:e.icon})}),(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"1px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontSize:"small",minWidth:"fit-content",paddingRight:"5px"},children:e.label}),(0,l.jsx)(g.Z,{positionAbsolute:!1,itemId:e.id,iconStyle:{minWidth:"10px",minHeight:"10px",width:"10px",height:"10px"}})]})]},"".concat(t,"-").concat(e.rawObj.relic.name))})})]},"".concat(t,"-").concat(e.name)))}),(0,l.jsx)(v.Z,{itemId:n,positionAbsolute:!0})]},"".concat(t,"-").concat(n))})})};function H(e){let{trackedItems:t}=e,[n,i]=(0,s.useState)("relic"),[r,c]=(0,s.useState)(!0),[o,d]=(0,j.Z)();return(0,l.jsxs)("div",{className:"sized-component v-flex flex-center",style:{gap:"10px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex",style:{fontSize:"large",fontWeight:"bold"},children:"Farming Sheet"}),(0,l.jsx)(f.Z,{hasMinWidth:!0,defaultTab:"Components",tabs:{Components:(0,l.jsx)(O,{hideFarmed:a.ZAN("hideFarmed",!1),trackedItems:t}),Relics:(0,l.jsx)(z.Z,{hideFarmed:a.ZAN("hideFarmed",!1),objects:t}),...t.map(e=>{var t;return null!==(t=a.fGE(e).vaulted)&&void 0!==t&&t}).some(e=>!1==e)?{Missions:(0,l.jsx)(S.Z,{groupBy:n,hideFarmed:a.ZAN("hideFarmed",!1),objectIds:t})}:null},headerControls:{Missions:(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:[(0,l.jsx)(L.Z,{setHideFarmed:c}),(0,l.jsx)(p.Z,{options:{"Group By Relic":{value:"relic",defaultOption:!0},"Group By Component":{value:"component"}},onConfirm:e=>{let[t,n]=e;return i(n.value)}})]}),Components:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)(L.Z,{setHideFarmed:c})}),Relics:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)(L.Z,{setHideFarmed:c})})}})]})}function Z(){var e,t,n;let[i,r]=(0,s.useState)("relicType"),[o,d]=(0,s.useState)(1),[x,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=async function(){let l=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{let s=await fetch("".concat(c,"/activemissions")),i=await s.json();f(i),l&&setTimeout(n,1e3),null==i&&setTimeout(()=>e(!1),3e5);let r=Date.now()+3e5,o=i.reduce((e,t)=>{let n=a.jyf(t.Expiry);return n<e&&(e=n),e},r);o<r&&(r=o);let d=r-Date.now();d<=0&&(d=2e4),setTimeout(t,d)}catch(e){console.error("Error fetching data:",e)}},t=()=>e(!1),n=()=>{d(Math.random()),setTimeout(n,1e3)};return e(),()=>{clearTimeout(n),clearTimeout(t)}},[]);let m=null==x?null:Object.fromEntries(null!==(n=null==x?void 0:null===(e=x.map)||void 0===e?void 0:e.call(x,e=>{let t=a.oO_(e.Node),n=a.fGE(t.id);return[t.nodeId,n]}))&&void 0!==n?n:[]),[h,v]=(0,u.Z)(),j=a.hrm(),g=e=>"VoidT1"===e?"Lith":"VoidT2"===e?"Meso":"VoidT3"===e?"Neo":"VoidT4"===e?"Axi":"VoidT5"===e?"Requiem":null;return null==x||(null==x?void 0:x.error)!=null?null:(0,l.jsxs)(C,{className:"sized-content v-flex flex-center void-fissures-collapsible",title:(0,l.jsx)("span",{style:{fontWeight:"bold",fontSize:"large"},children:"Available Void Fissures"}),children:[(0,l.jsx)(p.Z,{options:{"Relic Type":{value:"relicType",defaultOption:!0},"Mission Type Preference":{value:"preference"}},onConfirm:e=>{let[t,n]=e;return r(n.value)}}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{flexWrap:"wrap",padding:"10px",gap:"10px"},children:null==x?void 0:null===(t=x.toSorted)||void 0===t?void 0:t.call(x,(e,t)=>{var n,l,s,r;let a=m[e.Node],c=m[t.Node],o=g(e.Modifier),d=g(t.Modifier);return("preference"===i?(null!==(n=h[a.type])&&void 0!==n?n:1/0)-(null!==(l=h[c.type])&&void 0!==l?l:1/0):(null!==(s=j[o])&&void 0!==s?s:1/0)-(null!==(r=j[d])&&void 0!==r?r:1/0))||(null!=e.Hard?1:-1)-(null!=t.Hard?1:-1)}).map((e,t)=>{let n=a.oO_(e.Node),s=a.fGE(n.id);if(null==s)return console.warn("mission is null!",n.id),null;let i=a.jyf(e.Expiry)-Date.now(),r=g(e.Modifier);return(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{borderRadius:"10px",padding:"10px",backgroundColor:"var(--color-tertiary)",width:"250px",textAlign:"center",justifyContent:"flex-start",alignSelf:"stretch",gap:"5px"},children:[(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{gap:"5px"},children:[null!=r?(0,l.jsx)("img",{className:"sized-content v-flex flex-center",style:{width:"100px",height:"100px",objectFit:"contain"},src:"".concat(a.wHH().basePath,"/images/").concat(r,".png")}):(0,l.jsx)("div",{className:"sized-content v-flex flex-center",style:{width:"100px",height:"100px",objectFit:"contain"},children:(0,l.jsx)("img",{className:"sized-content v-flex flex-center icon-default-filter omnia-fissure",style:{width:"60px",height:"60px",objectFit:"contain"},src:"".concat(a.wHH().basePath,"/icons/question.svg")})}),(0,l.jsx)("img",{className:"sized-content v-flex flex-center",style:{width:"50px",height:"50px",objectFit:"contain"},src:a.I6l(s)})]}),(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",children:[(0,l.jsx)("span",{className:"sized-content v-flex flex-center",style:{fontStyle:"italic"},children:null!=r?r:"Omnia"}),(0,l.jsxs)("span",{className:"sized-content v-flex flex-center",style:{fontWeight:"bold"},children:[s.type,null==e.Hard?null:(0,l.jsx)(l.Fragment,{children:" (Steel Path)"})]}),(0,l.jsx)("span",{className:"sized-content v-flex flex-center",children:n.id}),(0,l.jsxs)("span",{className:"sized-content v-flex flex-center",style:{whiteSpace:"pre"},children:["Expires in ",a.M2U(i,!0)]})]})]},"".concat(t,"-").concat(e.Node,"-").concat(s.type))})})]})}function T(){let e=a.fxc();new Date().getTime();let[t,n]=(0,m.Z)();return(0,l.jsx)(C,{className:"sized-content v-flex flex-center void-fissures-collapsible",title:(0,l.jsx)("span",{style:{fontWeight:"bold",fontSize:"large"},children:"Prime Resurgence"}),children:(0,l.jsxs)("div",{className:"sized-content v-flex",style:{gap:"40px"},children:[(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"10px"},children:[(0,l.jsx)("span",{className:"sized-content h-flex flex-center",style:{fontSize:"large",fontWeight:"bold"},children:"Time Remaining"}),(0,l.jsx)("div",{className:"sized-content v-flex flex-center",children:e.map((e,t)=>(0,l.jsxs)("div",{className:"sized-content h-flex",style:{gap:"50px"},children:[(0,l.jsx)("span",{style:{fontWeight:"bold",width:"300px"},children:e.subjects}),(0,l.jsx)("span",{style:{fontWeight:"normal",color:e.expiryDate-new Date().getTime()<432e6?"red":e.expiryDate-new Date().getTime()<864e6?"yellow":"rgb(0, 180, 0)"},children:"".concat(a.M2U(e.expiryDate-new Date().getTime())," remaining (").concat(a.lWD(new Date(e.expiryDate)),")")})]},"".concat(t,"-").concat(e)))})]}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px",flexWrap:"wrap"},children:Object.entries(a.NxJ()).filter(e=>{let[t,n]=e;return a.xr7(t)}).toSorted((e,t)=>{let[n,l]=e,[s,i]=t;return a.km8(a.fGE(n))-a.km8(a.fGE(s))}).map((e,n)=>{let[s,i]=e,r=a.km8(a.fGE(s),t);return(0,l.jsx)(I,{itemId:s,farmedPerc:r,sharedTrackList:null},"".concat(s,"-").concat(n))})})]})})}function I(e){let{itemId:t,farmedPerc:n,sharedTrackList:s}=e;return(0,l.jsxs)(r.default,{href:a.LnC(t),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(n<=0?"":n>=1?" object-farmed-main-page":" object-farmed-partial-main-page"),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,l.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:a.I6l(a.fGE(t))}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:t}),(()=>{let e=a.fGE(t);return null==e?null:"items"===e.category||"components"===e.category?(0,l.jsx)(x.Z,{object:e}):null})(),null!=s?null:(0,l.jsx)(o.Z,{itemId:t,positionAbsolute:!0}),(0,l.jsx)(v.Z,{itemId:t,positionAbsolute:!0}),(0,l.jsx)(E.Z,{rawObj:a.fGE(t)})]})}function P(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),[n,s]=(0,d.Z)(),[c,o]=y(),x=t.get("sharedTrackList")?a.nN$(t.get("sharedTrackList")):null,u=x?x.trackedItems:n,f=Object.entries(null!=u?u:{}).filter(e=>{var t;let[n,l]=e;return null!==(t=l.tracked)&&void 0!==t&&t}).length<=0,[h,p]=(0,m.Z)();return(0,l.jsxs)("div",{className:"sized-content tracked-items v-flex flex-center",style:{gap:"50px"},children:[Object.keys(c).length<=1&&a.j1q(a.sY0(u,e=>!0==e[1].tracked))?null:(0,l.jsx)("div",{children:(0,l.jsx)(k,{})}),!f&&u?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"sized-content tracked-items h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{overflow:"auto",maxWidth:"75vw",gap:"10px",flexWrap:"wrap"},children:Object.entries(u).filter(e=>{var t;let[n,l]=e;return null!==(t=l.tracked)&&void 0!==t&&t}).sort((e,t)=>{let[n,l]=e,[s,i]=t;return a.km8(a.fGE(n))-a.km8(a.fGE(s))}).map((e,t)=>{let[n,s]=e,i=a.km8(a.fGE(n),h);return(0,l.jsx)(I,{itemId:n,farmedPerc:i,sharedTrackList:x},"".concat(n,"-").concat(t))})})})}):null,f?(0,l.jsxs)("div",{className:"sized-content v-flex",style:{gap:"10px",fontSize:"small",fontStyle:"italic",whiteSpace:"pre"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("div",{className:"sized-content tracked-items-button v-flex flex-center",style:{fontStyle:"normal",cursor:"pointer"},onClick:()=>e.push("/prime/explorer"),children:"+"})}),(0,l.jsxs)("div",{className:"sized-content v-flex",style:{textWrap:"wrap",flexWrap:"wrap"},children:[(0,l.jsxs)("div",{children:["You're not tracking any items. Add some by using the Search Bar or from the ",(0,l.jsx)(r.default,{href:"/prime/explorer",style:{cursor:"pointer",color:"var(--color-link-text)"},children:"Explorer"})," page, or by selecting a Track List (if you saved any)."]}),(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",children:["Track items using the star",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(a.wHH().basePath,"/icons/star_hollow.svg")}),"button."]})]})]}):null,(0,l.jsx)(Z,{}),(0,l.jsx)(T,{}),Object.entries(u).filter(e=>{let[t,n]=e;return n.tracked}).length<=0?null:(0,l.jsxs)("span",{className:"sized-content h-flex flex-center",style:{whiteSpace:"pre",fontSize:"large"},children:["You've farmed ",(()=>{let e=Object.entries(u).filter(e=>{let[t,n]=e;return null==n?void 0:n.tracked}).reduce((e,t)=>{let[n,l]=t,s=a.fGE(n);return"items"===s.category?e+=a.pxc(s.id).reduce((e,t)=>e+a.rJB(t),0):"components"===s.category&&(e+=a.Wk9(s)),e},0),t=Object.entries(u).filter(e=>{let[t,n]=e;return null==n?void 0:n.tracked}).reduce((e,t)=>{let[n,l]=t,s=a.fGE(n);return"items"===s.category?e+=a.UKN(s.id).reduce((e,t)=>e+t.required,0):"components"===s.category&&(e+=1),e},0),n=e/t*100;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"sized-content h-flex home-farm-mode-progress-text",children:[e," / ",t]})," components (",(0,l.jsxs)("span",{className:"sized-content h-flex home-farm-mode-progress-text",children:[n.toFixed(0),"%"]}),", missing ",(0,l.jsx)("span",{className:"sized-content h-flex home-farm-mode-progress-text",children:t-e})," components)"]})})()]}),f?null:(0,l.jsx)(H,{trackedItems:Object.entries(u).filter(e=>{let[t,n]=e;return!0==n.tracked}).map(e=>{let[t,n]=e;return t})})]})}function G(){(0,i.useRouter)();let[e,t]=(0,d.Z)(),n=Object.entries(null!=e?e:{}).filter(e=>{var t;let[n,l]=e;return null!==(t=l.tracked)&&void 0!==t&&t}).length<=0;return(0,l.jsxs)("div",{className:"sized-remaining v-flex",style:{justifyContent:"center",gap:"0px"},children:[n?(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{padding:"10px"},children:(0,l.jsx)("img",{className:"sized-content h-flex flex-center",style:{width:"400px"},src:"".concat(a.wHH().basePath,"/icons/logo_prime.svg")})}):null,(0,l.jsxs)("div",{className:"sized-remaining v-flex flex-center",style:{gap:"20px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold"},children:"Tracked Items"}),(0,l.jsx)(P,{})]})]})}var F=n(8553),A=n(9274);function R(){let[e,t]=(0,s.useState)(a.cGn()),n=e=>{t(e)};return(0,s.useEffect)(()=>(a.DKd.addListener(n,!0),()=>{a.DKd.removeListener(n)}),[]),[e,t]}function D(e){let{}=e,t=(0,i.useRouter)(),n=(0,i.useSearchParams)(),[r,c]=R(),[o,d]=function(){let[e,t]=(0,s.useState)(a.pLB()),n=e=>{t(e)};return(0,s.useEffect)(()=>(a.PVW.addListener(n,!0),()=>{a.PVW.removeListener(n)}),[]),[e,t]}(),[x,u]=(0,m.Z)(),[f,h]=(0,s.useState)(!1),p=(0,s.useRef)(null),v=n.get("sharedSellList")?a.nN$(n.get("sharedSellList")):null,j=e=>{p.current&&!p.current.contains(e.target)&&h(!1)};return(0,s.useEffect)(()=>(f?document.addEventListener("mousedown",j):document.removeEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}),[f]),(0,l.jsx)(N,{elemList:r,sharedList:v,currentList:o,obtainedComponents:x,sharedListLabel:"Shared sell list",emptyListLabel:"Sell List is empty",itemFilterFunc:e=>null!=e.sellValue&&e.sellValue>0,innerListGetFunc:e=>e.sellItems,onClicks:{handleConfirm:e=>{let[t,n]=e;a.lAQ(t)},saveShared:()=>{a.PoQ({title:"Choose the name that this Sell List will have:",value:v.id,type:"textString",ok:(e,n)=>{v.id=n;let l=()=>{a.EDi(v),a.lAQ(n),t.push(window.location.href.split("?")[0])};if(null!=r[n]){console.warn("sell list already exists!"),a.PoQ({title:"A Sell List with the name '".concat(n,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{l()}});return}l()}})},cancelSaveShared:()=>{t.push(window.location.href.split("?")[0])},editList:()=>{a.PoQ({title:"Set new name for ".concat(o,":"),type:"textString",value:o,ok:(e,t)=>{let n=()=>{a.Maz(o,t),a.lAQ(t)};if(null!=r[t]){console.warn("sell list already exists!"),a.PoQ({title:"A Sell List with the name '".concat(t,"' already exists! Overwrite?"),type:"okcancel",ok:()=>{n()}});return}n()}})},addList:()=>{let e=a.$w_();a.EDi({id:e,sellItems:{}}),a.lAQ(e)},deleteList:()=>{a.RRf(a.pLB())},shareList:()=>{let e=a.U_9(r[o]);e.sellItems=a.sY0(e.sellItems,e=>{let[t,n]=e;return n.sellValue>0});let t="".concat(window.location.href.split("?")[0],"?sharedSellList=").concat(a.Eox(e));navigator.clipboard.writeText(t),a.wJT({label:"url copied to clipboard!",type:"success"})}}})}var B=n(1672),M=n(235);n(7841);var V=n(1886),q=n(4598);function Q(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),[n,s]=(0,A.Z)(),[c,d]=R(),u=t.get("sharedSellList")?a.nN$(t.get("sharedSellList")):null,f=u?u.sellItems:n,h=Object.entries(null!=f?f:{}).filter(e=>{let[t,n]=e;return a.$7W(t)>0}).length<=0,[p,j]=(0,m.Z)(),[g,y]=(0,M.Z)();return(0,l.jsxs)("div",{className:"sized-content tracked-items v-flex flex-center",style:{gap:"50px",minHeight:"620px"},children:[(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{fontSize:"x-large",fontWeight:"bold",whiteSpace:"pre",textAlign:"center",textWrap:"wrap",flexWrap:"wrap"},children:["You have a Grand Total of ",(0,l.jsx)("img",{style:{marginTop:"2px",width:"40px",height:"40px",objectFit:"contain"},src:"".concat(a.wHH().basePath,"/images/Orokin Ducats.png")}),Object.entries(g).reduce((e,t)=>{var n;let[l,s]=t;return e+a.QEb(a.fGE(l))*(null!==(n=s.owned)&&void 0!==n?n:0)},0)," in Sellable Component Duplicates."]}),Object.keys(c).length<=1&&a.j1q(a.sY0(f,e=>null!=e[1].sellValue&&e[1].sellValue>0))?null:(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"20px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold"},children:"Sell Items"}),(0,l.jsx)(D,{})]}),!h&&f?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"sized-content tracked-items h-flex flex-center",style:{gap:"10px"},children:(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{overflow:"auto",maxWidth:"75vw",gap:"10px",flexWrap:"wrap"},children:Object.entries(f).filter(e=>{let[t,n]=e;return a.$7W(t)>0}).filter(e=>{let[t,n]=e;return null!=a.fGE(t)}).sort((e,t)=>{let[n,l]=e,[s,i]=t;return n.localeCompare(s)}).map((e,t)=>{let[n,s]=e,i=a.km8(a.fGE(n),p);return(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",children:[(0,l.jsxs)(r.default,{href:a.LnC(n),className:"sized-content item-check-parent tracked-items-button v-flex flex-center".concat(i<=0?"":i>=1?" object-farmed-main-page":" object-farmed-partial-main-page"),style:{position:"relative",cursor:"pointer",alignSelf:"stretch",minWidth:"150px"},children:[(0,l.jsx)("img",{className:"sized-content tracked-items-icon h-flex",style:{minWidth:"fit-content",height:"90px"},src:a.I6l(a.fGE(n))}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{minWidth:"fit-content",textAlign:"center"},children:n}),(()=>{let e=a.fGE(n);return null==e?null:"items"===e.category||"components"===e.category?(0,l.jsx)(x.Z,{object:e}):null})(),null!=u?null:(0,l.jsx)(o.Z,{itemId:n,positionAbsolute:!0}),(0,l.jsx)(v.Z,{itemId:n,positionAbsolute:!0}),(0,l.jsx)(E.Z,{rawObj:a.fGE(n)})]}),(0,l.jsx)(B.Z,{object:a.fGE(n)})]},"".concat(n,"-").concat(t))})})}),(0,l.jsxs)("div",{className:"sized-content h-flex",style:{fontSize:"x-large",fontWeight:"bold",whiteSpace:"pre"},children:["Total Profit: ",(0,l.jsx)("img",{style:{marginTop:"2px",width:"40px",height:"40px",objectFit:"contain"},src:"".concat(a.wHH().basePath,"/images/Orokin Ducats.png")}),Object.entries(f).reduce((e,t)=>{var n;let[l,s]=t;return e+a.QEb(a.fGE(l))*(null!==(n=s.sellValue)&&void 0!==n?n:0)},0)]}),(0,l.jsx)("div",{className:"sized-content h-flex",style:{gap:"20px"},children:(0,l.jsx)("button",{className:"sized-content h-flex confirm-sell-button",title:"Sell amounts will be deducted from the Duplicate number for each component, and the current Sell List cleared",onClick:()=>{Object.entries(f).forEach(e=>{let[t,n]=e,l=a.$7W(t),s=a.Vp9(t);if(0==l){console.warn("sell value is 0! aborting sell");return}l<=s?(a.leN(t,0),a.Qu2(t,s-l)):console.warn("not enough extras to sell! aborting")})},children:"Confirm Sell"})})]}):null,h?(0,l.jsxs)("div",{className:"sized-content v-flex",style:{gap:"10px",fontSize:"small",fontStyle:"italic",whiteSpace:"pre"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",children:(0,l.jsx)("div",{className:"sized-content tracked-items-button v-flex flex-center",style:{fontStyle:"normal",cursor:"pointer"},onClick:()=>e.push("/prime/explorer"),children:"+"})}),(0,l.jsxs)("div",{className:"sized-content v-flex",style:{textAlign:"center",padding:"10px",gap:"10px"},children:[(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{textWrap:"wrap",flexWrap:"wrap"},children:["You're not selling any items. Add some by using the Duplicates pane below (if you've set any",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(a.wHH().basePath,"/icons/duplicates.svg")}),"duplicates), using the Search Bar or from the ",(0,l.jsx)(r.default,{href:"/prime/explorer",style:{cursor:"pointer",color:"var(--color-link-text)"},children:"Explorer"})," page, or by selecting a Sell List (if you saved any)."]}),(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{textWrap:"wrap",flexWrap:"wrap"},children:["Sell items using the sell",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(a.wHH().basePath,"/icons/sell_hollow.svg")}),"button and specifying a quantity (you need to have set",(0,l.jsx)("img",{className:"sized-content star-button-icon h-flex flex-center",style:{height:"12px"},src:"".concat(a.wHH().basePath,"/icons/duplicates.svg")}),"duplicates first in order to sell). In the Duplicates pane you can directly sell items using the corresponding buttons."]})]})]}):null]})}function U(){(0,i.useRouter)(),(0,i.useSearchParams)();let[e,t]=(0,M.Z)();return a.j1q(a.sY0(e,e=>{let[t,n]=e;return null!=n.owned&&n.owned>0}))?null:(0,l.jsxs)("div",{className:"sized-content v-flex",style:{backgroundColor:"var(--color-tertiary)",borderRadius:"10px",padding:"10px",gap:"10px"},children:[(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{fontSize:"x-large",fontWeight:"bold"},children:"Duplicates you have"}),(0,l.jsx)("div",{className:"sized-content h-flex flex-center",style:{gap:"10px",flexWrap:"wrap",maxWidth:"90vw"},children:Object.entries(e).filter(e=>{let[t,n]=e;return null!=n.owned&&n.owned>0}).map(e=>{let[t,n]=e;return[t,[n,a.fGE(t)]]}).toSorted((e,t)=>{let[n,[l,s]]=e,[i,[r,a]]=t;return(s.vaulted?1:-1)-(a.vaulted?1:-1)||r.owned-l.owned||n.localeCompare(i)}).map((e,t)=>{let[n,s]=e,i=a.fGE(n);return(0,l.jsx)(q.Z,{style:{width:"205px",minHeight:"190px"},children:(0,l.jsxs)("div",{className:"sized-content v-flex flex-center",style:{gap:"5px"},children:[(0,l.jsx)(h.Z,{component:a.fGE(n),isRawObj:!0,darkenIfVaulted:!0,fullName:!0,showButtons:!1,showCorrespondingItem:!0,style:{minWidth:"205px"}}),(0,l.jsx)(V.Z,{component:i,showLabel:!0,alwaysShowLabel:!0})]})},"".concat(t,"-").concat(n))})})]})}function _(){let[e,t]=(0,s.useState)(1),[n,i]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=async function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{var s;let r=await fetch("".concat(c,"/voidtraders")),o=await r.json();i(o),t&&setTimeout(l,1e3),console.warn("DATA!",o),null==o&&setTimeout(()=>e(!1),3e5);let d=Date.now()+864e5,x=null==o?void 0:null===(s=o.reduce)||void 0===s?void 0:s.call(o,(e,t)=>{let n=a.jyf(t.Expiry);return n<e&&(e=n),e},d);x<d&&(d=x);let u=d-Date.now();u<=0&&(u=2e4),setTimeout(n,u)}catch(e){console.error("Error fetching data:",e)}},n=()=>e(!1),l=()=>{t(Math.random()),setTimeout(l,1e3)};return e(),()=>{clearTimeout(l),clearTimeout(n)}},[]);let r=null,o=null,d=null;if(null!=n){var x;let e=null==n?void 0:null===(x=n.find)||void 0===x?void 0:x.call(n,e=>"Baro'Ki Teel"===e.Character);if(null!=e){let t=a.jyf(e.Activation);null!=t&&(r=Date.now()-t);let n=a.jyf(e.Expiry);null!=n&&(o=n-Date.now()),d=a.JC1(e.Node)}}return null==n||null==o?null:(0,l.jsx)("div",{className:"sized-remaining v-flex flex-center",style:{gap:"50px",marginBottom:"40px",textWrap:"wrap",flexWrap:"wrap",padding:"10px"},children:(0,l.jsxs)("div",{className:"sized-content h-flex flex-center",style:{whiteSpace:"pre",fontSize:"x-large",textWrap:"wrap",flexWrap:"wrap"},children:["Baro Ki'Teer ",r<0?(0,l.jsxs)(l.Fragment,{children:["will arrive",null!=d?(0,l.jsxs)(l.Fragment,{children:[" at ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:d})]}):""]}):(0,l.jsxs)(l.Fragment,{children:["has arrived",null!=d?(0,l.jsxs)(l.Fragment,{children:[" at ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:d})]}):""," and will go away"]})," in ",(0,l.jsx)("span",{className:"sized-content h-flex flex-center",style:{fontWeight:"bold"},children:a.M2U(r<0?-r:o)})]})})}function $(){(0,i.useRouter)();let[e,t]=(0,A.Z)();return Object.entries(null!=e?e:{}).filter(e=>{let[t,n]=e;return a.$7W(t)>0}).length,(0,l.jsxs)("div",{className:"sized-remaining v-flex",style:{justifyContent:"center",gap:"0px"},children:[(0,l.jsx)(_,{}),(0,l.jsxs)("div",{className:"sized-remaining v-flex flex-center",style:{gap:"100px"},children:[(0,l.jsx)(Q,{}),(0,l.jsx)(U,{})]})]})}function Y(){(0,i.useRouter)();let[e,t]=(0,F.Z)();return(0,l.jsx)(l.Fragment,{children:null==e||"farmMode"===e?(0,l.jsx)(G,{}):(0,l.jsx)($,{})})}},4598:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(7437);n(2265);var s=n(6044);function i(e){let{children:t,className:n,style:i}=e,{ref:r,inView:a}=(0,s.YD)({threshold:.1,triggerOnce:!1});return(0,l.jsx)("div",{ref:r,style:i,className:n,children:a?t:(0,l.jsx)("div",{className:"default-element-style blinking-slow",style:{backgroundColor:"var(--color-sextenary)",...i}})})}}},function(e){e.O(0,[125,4,138,564,713,497,749,971,23,744],function(){return e(e.s=1658)}),_N_E=e.O()}]);